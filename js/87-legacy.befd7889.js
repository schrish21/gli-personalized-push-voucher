"use strict";(self["webpackChunkvuejs_personalized_push_voucher"]=self["webpackChunkvuejs_personalized_push_voucher"]||[]).push([[87],{9793:function(t,a,e){e.r(a),e.d(a,{default:function(){return P}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(a){t.loadingDialog=a},expression:"loadingDialog"}},[e("v-card",{attrs:{color:"primary",dark:""}},[e("v-card-text",{staticClass:"pa-2 pl-4 pr-4 pb-4"},[t._v(" Loading, please wait "),e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.cancelDialog,callback:function(a){t.cancelDialog=a},expression:"cancelDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v(" Cancel ")]),e("v-card-text",[t._v(" Apakah Anda yakin ingin keluar dari halaman? ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(a){t.cancelDialog=!1}}},[t._v(" TIDAK ")]),e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){t.cancelDialog=!1,t.onCancel()}}},[t._v(" YA ")])],1)],1)],1),e("div",{staticStyle:{display:"flex","align-items":"start","justify-content":"center"}},[e("v-card",{staticClass:"my-4 px-8 py-4 text-center",staticStyle:{"border-radius":"0 0 25px 25px !important"},attrs:{flat:"",tile:"",width:"95%"}},[e("div",{staticClass:"ma-4 pa-2 d-flex flex-row"},[e("h2",{staticStyle:{"font-weight":"400"}},[t._v("Form Add Campaign")])]),e("v-divider"),e("div",{staticClass:"my-4 d-flex flex-row",staticStyle:{width:"100%",display:"flex","align-items":"start","justify-content":"center"}},[e("v-col",{attrs:{cols:"10",md:"10"}},[t.flag.campaign?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card-text",{attrs:{width:"100%"}},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pr-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. ID ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.NoId,callback:function(a){t.NoId=a},expression:"NoId"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" NIK User ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.campaign_form.user_id,callback:function(a){t.$set(t.campaign_form,"user_id",a)},expression:"campaign_form.user_id"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Voucher "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,required:"",outlined:"",filled:""},model:{value:t.campaign_form.tipe_voucher,callback:function(a){t.$set(t.campaign_form,"tipe_voucher",a)},expression:"campaign_form.tipe_voucher"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Inject "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["System (S)","Upload (U)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.tipe_inject,callback:function(a){t.$set(t.campaign_form,"tipe_inject",a)},expression:"campaign_form.tipe_inject"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Title Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_title,callback:function(a){t.$set(t.campaign_form,"campaign_title",a)},expression:"campaign_form.campaign_title"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Subtitle Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_subtitle,callback:function(a){t.$set(t.campaign_form,"campaign_subtitle",a)},expression:"campaign_form.campaign_subtitle"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}},"v-text-field",i,!1),s))]}}],null,!1,275717903),model:{value:t.menu1,callback:function(a){t.menu1=a},expression:"menu1"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu1=!1}},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}},"v-text-field",i,!1),s))]}}],null,!1,4194667628),model:{value:t.menu2,callback:function(a){t.menu2=a},expression:"menu2"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date1},on:{input:function(a){t.menu2=!1}},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Link Image"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.link_image,callback:function(a){t.$set(t.campaign_form,"link_image",a)},expression:"campaign_form.link_image"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}},"v-text-field",i,!1),s))]}}],null,!1,4237919693),model:{value:t.menu3,callback:function(a){t.menu3=a},expression:"menu3"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu3=!1}},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}},"v-text-field",i,!1),s))]}}],null,!1,1398531626),model:{value:t.menu4,callback:function(a){t.menu4=a},expression:"menu4"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date3},on:{input:function(a){t.menu4=!1}},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}})],1)],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pl-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Jenis Promo"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["Targeted (T)","Manual (M)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.jenis_promo,callback:function(a){t.$set(t.campaign_form,"jenis_promo",a)},expression:"campaign_form.jenis_promo"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" BO Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.bo_reward,callback:function(a){t.$set(t.campaign_form,"bo_reward",a)},expression:"campaign_form.bo_reward"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir BO"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}},"v-text-field",i,!1),s))]}}],null,!1,4173111947),model:{value:t.menu5,callback:function(a){t.menu5=a},expression:"menu5"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu5=!1}},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. Juklak"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.juklak,callback:function(a){t.$set(t.campaign_form,"juklak",a)},expression:"campaign_form.juklak"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.SKP"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.skp,callback:function(a){t.$set(t.campaign_form,"skp",a)},expression:"campaign_form.skp"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.PAR Lengkap"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",hint:"Ex: 059/MKT-HO/II/21","persistent-hint":"",outlined:""},model:{value:t.campaign_form.par,callback:function(a){t.$set(t.campaign_form,"par",a)},expression:"campaign_form.par"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Departemen"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["HC","MD","CRM","MC"],required:"",outlined:""},model:{value:t.campaign_form.departemen,callback:function(a){t.$set(t.campaign_form,"departemen",a)},expression:"campaign_form.departemen"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Status Inject"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["Ya","Tidak"],required:"",outlined:""},model:{value:t.campaign_form.flag_inject_status,callback:function(a){t.$set(t.campaign_form,"flag_inject_status",a)},expression:"campaign_form.flag_inject_status"}})],1)],1)],1),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" MSO ID"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},on:{change:function(a){return t.getMsoId()}},model:{value:t.campaign_form.mso_id,callback:function(a){t.$set(t.campaign_form,"mso_id",a)},expression:"campaign_form.mso_id"}})],1)],1)],1):t._e(),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Quota Voucher"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,min:1,oninput:"if(this.value < 1) this.value = 1;",type:"number",required:"",outlined:""},model:{value:t.campaign_form.quota_voucher,callback:function(a){t.$set(t.campaign_form,"quota_voucher",a)},expression:"campaign_form.quota_voucher"}})],1)],1)],1):t._e()],1)],1)],1)],1),e("small",{staticClass:"font-italic d-flex flex-row"},[t._v("*Indicates required field")])],1)],1):t.flag.whitelist?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"purple lighten-2"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Brand")],1)],1)]}}]),model:{value:t.dialog.input,callback:function(a){t.$set(t.dialog,"input",a)},expression:"dialog.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Brand Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[e("v-autocomplete",{attrs:{rules:t.textInputRules,items:t.brand_data,"item-text":"nama_merk","item-value":"kd_merk",label:"Brand*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:t.input.brand_id,callback:function(a){t.$set(t.input,"brand_id",a)},expression:"input.brand_id"}}),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(a){t.dialog.input=!1},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Cancel")])],1),e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.onAddWhitelist()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog.input2,callback:function(a){t.$set(t.dialog,"input2",a)},expression:"dialog.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/BrandWhitelistTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog.input2=!t.dialog.input2}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12",md:"12",sm:"12"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Brand Whitelist")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"py-1 px-4"},[e("v-data-table",{attrs:{headers:t.headers,items:t.brand_arr,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteItem(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t.flag.voucher_code?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 d-flex flex-column",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"blue darken-2"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Voucher")],1)],1)]}}]),model:{value:t.dialog2.input,callback:function(a){t.$set(t.dialog2,"input",a)},expression:"dialog2.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Voucher ")]),e("v-form",{staticClass:"pa-8 pt-8",attrs:{"lazy-validation":""}},[e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Voucher Code",required:""},model:{value:t.input.voucher_code,callback:function(a){t.$set(t.input,"voucher_code",a)},expression:"input.voucher_code"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Member ID",required:""},model:{value:t.input.member_id,callback:function(a){t.$set(t.input,"member_id",a)},expression:"input.member_id"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Blast Date",hint:"*Format Date YYYY-MM-DD",required:""},model:{value:t.input.blast_date,callback:function(a){t.$set(t.input,"blast_date",a)},expression:"input.blast_date"}}),e("div",{staticClass:"pt-7 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.addVoucherCode()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Tambah")])],1)],1)],1)],1)],1),e("v-col",{staticClass:"my-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog2.input2,callback:function(a){t.$set(t.dialog2,"input2",a)},expression:"dialog2.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Voucher Code ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange2}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/VoucherCodeTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog2.input2=!1}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12"}},[e("v-card",{staticClass:"pa-2",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"mt-2 px-2",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Voucher Code")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search2,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search2,callback:function(a){t.search2=a},expression:"search2"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"pt-1 pb-1 px-6"},[e("v-data-table",{attrs:{headers:t.headers2,items:t.voucher_data,search:t.search2},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteWhitelist(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t._e()],1),e("v-col",{attrs:{cols:"2",md:"2"}},[e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"2",outlined:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("campaign")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("campaign")}},[t._v(" Input Campaign")])],1),t.flagBySystem()?e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("whitelist")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("whitelist")}},[t._v(" Brand Whitelist")])],1):t._e(),t.flagBySystem()?t._e():e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("voucher_code")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("voucher_code")}},[t._v(" Voucher Code")])],1),e("v-spacer",{staticClass:"my-8"}),e("v-btn",{staticClass:"ma-auto my-2 white--text",attrs:{color:"green",width:"100%"},on:{click:function(a){return t.onSubmit()}}},[t._v(" Submit ")]),e("v-btn",{staticClass:"ma-auto white--text",attrs:{color:"red lighten-2",width:"100%"},on:{click:function(a){return t.onCancelConfirm()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)},i=[],n=e(6198),r=e(3796),l=(e(9826),e(1539),e(7327),e(7042),e(6699),e(2023),e(4916),e(4723),e(4048),e(9653),e(6755),e(5666),e(8815)),o=e(9669),c=e.n(o),u=e(6814),d=e.n(u),m=e(4105),p={name:"InputForm",components:{},data:function(){return(0,r.Z)({lastUpdate:(new Date).toLocaleString(),loadingDialog:!1,cancelDialog:!1,flag:{campaign:!0,whitelist:!1,voucher_code:!1},textInputRules:[function(t){return!!t||"Kolom harus diisi"}],dateNow:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),NoId:"AUTO GENERATED",menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,campaign_form:{user_id:localStorage.nik,tipe_voucher:"Voucher",tipe_inject:"System (S)",campaign_title:"",campaign_subtitle:"",link_image:"",date1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date3:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date4:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),jenis_promo:"Targeted (T)",quota_voucher:"",bo_reward:"",juklak:"",skp:"",par:"",date5:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),flag_inject_status:"Tidak",departemen:"",mso_id:""},search:"",dialog:{input:!1,input2:!1},headers:[{text:"Brand ID",align:"start",value:"kd_merk",class:"black--text grey lighten-2"},{text:"Brand Name",value:"nama_merk",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],brand_data:[],brand_arr:[],input:{brand_id:""},mso_id_data:{},flag_mso_id:!1,search2:"",dialog2:{input:!1,input2:!1},headers2:[{text:"Voucher Code",align:"start",value:"voucher_code",class:"black--text grey lighten-2"},{text:"Member ID",align:"start",value:"member_id",class:"black--text grey lighten-2"},{text:"Blast Date",align:"start",value:"blast_date",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],campaign_data:[],voucher_data:[]},"input",{event:"",voucher_code:"",member_id:"",blast_date:""})},mounted:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function a(){var e,s,i,n,r,o,u,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loadingDialog=!0,a.prev=1,e=new Date,s=e.getMonth()+1,i=e.getDate(),s<10&&(s="0"+s),i<10&&(i="0"+i),n=e.getFullYear()+""+s+i,r=n,o="SSO4lfag1ft"+r+"targeted_voucher",u=d()(o),m={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=14,c().get(l.Y+"get-brand?token="+u,m).then((function(a){if(t.brand_data=a.data.data,0==t.brand_data.length)return alert("Gagal mengambil data brand! Silahkan coba lagi."),void(t.loadingDialog=!1)})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data brand! Silahkan coba lagi.")}));case 14:if(0!=t.brand_data.length){a.next=17;break}return t.loadingDialog=!1,a.abrupt("return");case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a["catch"](1),console.error(a.t0),alert("Error: koneksi gagal"),a.abrupt("return");case 24:t.loadingDialog=!1;case 25:case"end":return a.stop()}}),a,null,[[1,19]])})))()},methods:{btnFlag:function(t){this.flag.campaign=!1,this.flag.whitelist=!1,this.flag.voucher_code=!1,"campaign"==t?this.flag.campaign=!0:"whitelist"==t?this.flag.whitelist=!0:"voucher_code"==t&&(this.flag.voucher_code=!0)},getBtnColor:function(t){return"campaign"==t?1==this.flag.campaign?"#6861CE":"grey lighten-1":"whitelist"==t?1==this.flag.whitelist?"#6861CE":"grey lighten-1":"voucher_code"==t?1==this.flag.voucher_code?"#6861CE":"grey lighten-1":void 0},flagBySystem:function(){return"System (S)"==this.campaign_form.tipe_inject},onAddWhitelist:function(){var t=this;if(void 0!=this.brand_data.find((function(a){return a.kd_merk==t.input.brand_id})))if(this.brand_arr.filter((function(a){return a.kd_merk==t.input.brand_id})).length>0)alert("Brand sudah di dalam tabel!");else{var a=this.brand_data.find((function(a){return a.kd_merk==t.input.brand_id}));this.brand_arr.push(a),this.input.brand_id="",this.dialog.input=!1}else alert("Gagal menambahkan item!")},onDeleteItem:function(t){this.brand_arr=this.brand_arr.filter((function(a){return a.kd_merk!==t.kd_merk})),alert("Berhasil menghapus item!")},onFileChange:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson(a[0])},filetojson:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=m.read(a,{type:"binary"}),i=s.SheetNames[0],n=s.Sheets[i],r=m.utils.sheet_to_json(n,{raw:!0});if(!r[0].kd_merk||!r[0].nama_merk)return e.brand_arr=[],void alert("Format header xslx salah!");for(var l=0;l<r.length;l++){if(e.brand_arr.filter((function(t){return t.kd_merk==r[l].kd_merk})).length>0)return void alert("Brand sudah di dalam tabel!");e.brand_arr.push(r[l])}},a.readAsBinaryString(t)},getMsoId:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function a(){var e,s,i,n,r,o,u,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loadingDialog=!0,a.prev=1,e=new Date,s=e.getMonth()+1,i=e.getDate(),s<10&&(s="0"+s),i<10&&(i="0"+i),n=e.getFullYear()+""+s+i,r=n,o="SSO4lfag1ft"+r+"targeted_voucher",u=d()(o),m={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=14,c().get(l.Y+"get-mso-id?token="+u+"&emp_mso_id="+t.campaign_form.mso_id,m).then((function(a){if(t.mso_id_data=a.data.data[0],0==a.data.data.length)return t.flag_mso_id=!1,alert("MSO ID tidak ditemukan! Silahkan coba lagi."),void(t.loadingDialog=!1);t.flag_mso_id=!0,t.campaign_form.quota_voucher=t.mso_id_data.emp_mso_jumlah_voucher})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data mso id! Silahkan coba lagi.")}));case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a["catch"](1),console.error(a.t0),alert("Error: koneksi gagal"),a.abrupt("return");case 21:t.loadingDialog=!1;case 22:case"end":return a.stop()}}),a,null,[[1,16]])})))()},onSubmit:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function a(){var e,s,i,n,r,o,u,m,p,g,_,f,v,h,x,b,k,C,w,y,S,D,A,j,T,I,O,z;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=Date.parse(t.campaign_form.date1),s=Date.parse(t.campaign_form.date2),!(e>s)){a.next=5;break}return alert("Tanggal Awal Reward melebihi Tanggal Akhir Reward."),a.abrupt("return");case 5:if(i=Date.parse(t.campaign_form.date3),n=Date.parse(t.campaign_form.date4),!(i>n)){a.next=10;break}return alert("Tanggal Awal Sales melebihi Tanggal Akhir Sales."),a.abrupt("return");case 10:if(""==t.campaign_form.quota_voucher&&(t.campaign_form.quota_voucher=null),""==t.campaign_form.quota_voucher&&(t.campaign_form.quota_voucher=0),""==t.campaign_form.mso_id&&(t.campaign_form.mso_id=null),""!=t.campaign_form.user_id&&""!=t.campaign_form.tipe_voucher&&""!=t.campaign_form.tipe_inject&&""!=t.campaign_form.campaign_title&&""!=t.campaign_form.campaign_subtitle&&""!=t.campaign_form.link_image&&""!=t.campaign_form.date1&&""!=t.campaign_form.date2&&""!=t.campaign_form.date3&&""!=t.campaign_form.date4&&""!=t.campaign_form.date3&&""!=t.campaign_form.jenis_promo&&""!=t.campaign_form.bo_reward&&""!=t.campaign_form.juklak&&""!=t.campaign_form.skp&&""!=t.campaign_form.par&&""!=t.campaign_form.date5&&""!=t.campaign_form.flag_inject_status&&""!=t.campaign_form.departemen){a.next=18;break}return alert("Lengkapi semua kolom yang wajib diisi!"),a.abrupt("return");case 18:if("System (S)"!=t.campaign_form.tipe_inject){a.next=103;break}if(0!=t.brand_arr.length){a.next=24;break}return alert("Brand Whitelist wajib diisi untuk tipe inject by System."),a.abrupt("return");case 24:if(0!=t.flag_mso_id){a.next=29;break}return alert("MSO ID tidak valid. Silahkan coba lagi."),a.abrupt("return");case 29:if(!(t.campaign_form.quota_voucher>t.mso_id_data.emp_mso_jumlah_voucher)){a.next=34;break}return alert("Quota Voucher yg di input lebih besar dari Quota Voucher MSO ID."),a.abrupt("return");case 34:return t.loadingDialog=!0,"Ya"==t.campaign_form.flag_inject_status?t.campaign_form.flag_inject_status=!0:t.campaign_form.flag_inject_status=!1,t.campaign_form.jenis_promo=t.campaign_form.jenis_promo.charAt(0).toUpperCase(),t.campaign_form.tipe_inject=t.campaign_form.tipe_inject.charAt(0).toUpperCase(),t.campaign_form.bo_reward=t.campaign_form.bo_reward.charAt(0).toUpperCase()+t.campaign_form.bo_reward.slice(1),t.campaign_form.campaign_title=t.campaign_form.campaign_title.charAt(0).toUpperCase()+t.campaign_form.campaign_title.slice(1),t.campaign_form.campaign_subtitle=t.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+t.campaign_form.campaign_subtitle.slice(1),a.prev=41,r=new Date,o=r.getMonth()+1,u=r.getDate(),o<10&&(o="0"+o),u<10&&(u="0"+u),m=r.getFullYear()+""+o+u,p=m,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),f={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},v={amtv_start_date:t.campaign_form.date1,amtv_end_date:t.campaign_form.date2,amtv_title:t.campaign_form.campaign_title,amtv_sub_title:t.campaign_form.campaign_subtitle,amtv_bo_end_date:t.campaign_form.date5,amtv_qty_reward:t.campaign_form.quota_voucher,amtv_bo_reward:t.campaign_form.bo_reward,amtv_flag_inject:t.campaign_form.flag_inject_status,amtv_tipe_vcr:t.campaign_form.tipe_voucher,amtv_create_user:t.campaign_form.user_id,amtv_department:t.campaign_form.departemen,amtv_skp:t.campaign_form.skp,amtv_par:t.campaign_form.par,amtv_tipe_inject:t.campaign_form.tipe_inject,amtv_start_sales_date:t.campaign_form.date3,amtv_end_sales_date:t.campaign_form.date4,amtv_image_link:t.campaign_form.link_image,amtv_juklak:t.campaign_form.juklak,amtv_jenis_promo:t.campaign_form.jenis_promo,amtv_mso_id:t.campaign_form.mso_id},h=null,a.next=56,c().post(l.Y+"targeted-voucher?token="+_,v,f).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan campaign! Silahkan coba lagi."),void(t.loadingDialog=!1);h=a.data.data.amtv_id})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan campaign!"),t.loadingDialog=!1}));case 56:if(null!=h){a.next=58;break}return a.abrupt("return");case 58:a.next=66;break;case 60:return a.prev=60,a.t0=a["catch"](41),console.error(a.t0),alert("Error: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 66:if(0==t.brand_arr.length){a.next=98;break}a.prev=67,r=new Date,o=r.getMonth()+1,u=r.getDate(),o<10&&(o="0"+o),u<10&&(u="0"+u),m=r.getFullYear()+""+o+u,p=m,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),x={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},b=t.brand_arr,k=0;case 80:if(!(k<b.length)){a.next=90;break}return C={atw_amtv_id:h,atw_kd_merk:b[k].kd_merk,atw_merk:b[k].nama_merk},w=!1,a.next=85,c().post(l.Y+"add-whitelist?token="+_,C,x).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan whitelist! Silahkan coba lagi."),void(t.loadingDialog=!1);w=a.data.data.status})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan whitelist!"),t.loadingDialog=!1}));case 85:if(w){a.next=87;break}return a.abrupt("return");case 87:k++,a.next=80;break;case 90:a.next=98;break;case 92:return a.prev=92,a.t1=a["catch"](67),console.error(a.t1),alert("Error: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 98:return t.$router.push({name:"tables"}).catch((function(t){console.log(t)})),t.loadingDialog=!1,a.abrupt("return");case 101:a.next=192;break;case 103:if("Upload (U)"!=t.campaign_form.tipe_inject){a.next=189;break}if(0!=t.voucher_data.length){a.next=109;break}return alert("Voucher code wajib diisi untuk tipe inject by System."),a.abrupt("return");case 109:return t.loadingDialog=!0,"Ya"==t.campaign_form.flag_inject_status?t.campaign_form.flag_inject_status=!0:t.campaign_form.flag_inject_status=!1,t.campaign_form.jenis_promo=t.campaign_form.jenis_promo.charAt(0).toUpperCase(),t.campaign_form.tipe_inject=t.campaign_form.tipe_inject.charAt(0).toUpperCase(),t.campaign_form.bo_reward=t.campaign_form.bo_reward.charAt(0).toUpperCase()+t.campaign_form.bo_reward.slice(1),t.campaign_form.campaign_title=t.campaign_form.campaign_title.charAt(0).toUpperCase()+t.campaign_form.campaign_title.slice(1),t.campaign_form.campaign_subtitle=t.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+t.campaign_form.campaign_subtitle.slice(1),a.prev=116,r=new Date,o=r.getMonth()+1,u=r.getDate(),o<10&&(o="0"+o),u<10&&(u="0"+u),m=r.getFullYear()+""+o+u,p=m,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),y={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},S={amtv_start_date:t.campaign_form.date1,amtv_end_date:t.campaign_form.date2,amtv_title:t.campaign_form.campaign_title,amtv_sub_title:t.campaign_form.campaign_subtitle,amtv_bo_end_date:t.campaign_form.date5,amtv_qty_reward:t.campaign_form.quota_voucher,amtv_bo_reward:t.campaign_form.bo_reward,amtv_flag_inject:t.campaign_form.flag_inject_status,amtv_tipe_vcr:t.campaign_form.tipe_voucher,amtv_create_user:t.campaign_form.user_id,amtv_department:t.campaign_form.departemen,amtv_skp:t.campaign_form.skp,amtv_par:t.campaign_form.par,amtv_tipe_inject:t.campaign_form.tipe_inject,amtv_start_sales_date:t.campaign_form.date3,amtv_end_sales_date:t.campaign_form.date4,amtv_image_link:t.campaign_form.link_image,amtv_juklak:t.campaign_form.juklak,amtv_jenis_promo:t.campaign_form.jenis_promo,amtv_mso_id:t.campaign_form.mso_id},h=null,a.next=131,c().post(l.Y+"targeted-voucher?token="+_,S,y).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan campaign! Silahkan coba lagi."),void(t.loadingDialog=!1);h=a.data.data.amtv_id})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan campaign!"),t.loadingDialog=!1}));case 131:if(null!=h){a.next=133;break}return a.abrupt("return");case 133:a.next=141;break;case 135:return a.prev=135,a.t2=a["catch"](116),console.error(a.t2),alert("Error: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 141:if(0==t.voucher_data.length){a.next=184;break}a.prev=142,r=new Date,o=r.getMonth()+1,u=r.getDate(),o<10&&(o="0"+o),u<10&&(u="0"+u),m=r.getFullYear()+""+o+u,p=m,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),D={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},A=[],j=[],T=[],I=!0,O=0;case 158:if(!(O<t.voucher_data.length)){a.next=169;break}if(t.voucher_data[O]["blast_date"].includes("-")){a.next=163;break}return alert("Format tanggal blast voucher code salah!"),I=!1,a.abrupt("return");case 163:A.push(t.voucher_data[O]["voucher_code"]),j.push(t.voucher_data[O]["member_id"]),T.push(t.voucher_data[O]["blast_date"]);case 166:O++,a.next=158;break;case 169:if(!I){a.next=176;break}return z={amtv_id:h,voucher_code_arr:A,member_id:j,blast_date:T},w=!1,a.next=174,c().post(l.Y+"insert-voucher?token="+_,z,D).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan voucher code! Silahkan coba lagi."),void(t.loadingDialog=!1);w=a.data.data.status})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan voucher code!"),t.loadingDialog=!1}));case 174:if(w){a.next=176;break}return a.abrupt("return");case 176:a.next=184;break;case 178:return a.prev=178,a.t3=a["catch"](142),console.error(a.t3),alert("Error menambahkan voucher code: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 184:return t.$router.push({name:"tables"}).catch((function(t){console.log(t)})),t.loadingDialog=!1,a.abrupt("return");case 187:a.next=192;break;case 189:return alert("Input salah! Silahkan coba lagi."),t.loadingDialog=!1,a.abrupt("return");case 192:case"end":return a.stop()}}),a,null,[[41,60],[67,92],[116,135],[142,178]])})))()},onCancelConfirm:function(){this.cancelDialog=!0},onCancel:function(){this.$router.push({name:"tables"}).catch((function(t){console.log(t)}))},dateIsValid:function(t){var a=/^\d{4}-\d{2}-\d{2}$/;if(null===t.match(a))return!1;var e=new Date(t),s=e.getTime();return"number"===typeof s&&!Number.isNaN(s)&&e.toISOString().startsWith(t)},addVoucherCode:function(){this.dateIsValid(this.input.blast_date)?this.voucher_data.push({voucher_code:this.input.voucher_code,member_id:this.input.member_id,blast_date:this.input.blast_date}):alert("Format tanggal blast voucher code salah!"),this.input.voucher_code="",this.input.member_id="",this.input.blast_date="",this.dialog2.input=!1},onDeleteWhitelist:function(t){this.voucher_data=this.voucher_data.filter((function(a){return a.voucher_code!==t.voucher_code})),alert("Berhasil menghapus item!")},onFileChange2:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson2(a[0])},filetojson2:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=m.read(a,{type:"binary"}),i=s.SheetNames[0],n=s.Sheets[i],r=m.utils.sheet_to_json(n,{raw:!0});if(!(r[0].voucher_code&&r[0].member_id&&r[0].blast_date))return e.voucher_data=[],void alert("Format header xslx salah!");for(var l=0;l<r.length;l++){if(e.voucher_data.filter((function(t){return t.voucher_code==r[l].voucher_code})).length>0)return void alert("Brand sudah di dalam tabel!");if(!e.dateIsValid(r[l].blast_date))return e.voucher_data=[],void alert("Format tanggal blast voucher code salah!");e.voucher_data.push(r[l])}},a.readAsBinaryString(t)}}},g=p,_=e(1001),f=e(3453),v=e.n(f),h=e(1835),x=e(680),b=e(2371),k=e(7118),C=e(2102),w=e(9846),y=e(4998),S=e(4484),D=e(7336),A=e(1418),j=e(6232),T=e(6428),I=e(6768),O=e(7003),z=e(2877),E=e(462),V=e(9762),q=e(5978),R=e(7688),$=e(7921),B=(0,_.Z)(g,s,i,!1,null,null,null),P=B.exports;v()(B,{VAutocomplete:h.Z,VBtn:x.Z,VCard:b.Z,VCardActions:k.h7,VCardText:k.ZB,VCardTitle:k.EB,VCol:C.Z,VContainer:w.Z,VDataTable:y.Z,VDatePicker:S.Z,VDialog:D.Z,VDivider:A.Z,VForm:j.Z,VIcon:T.Z,VMenu:I.Z,VProgressLinear:O.Z,VRow:z.Z,VSelect:E.Z,VSpacer:V.Z,VTextField:q.Z,VToolbar:R.Z,VToolbarTitle:$.qW})}}]);
//# sourceMappingURL=87-legacy.befd7889.js.map