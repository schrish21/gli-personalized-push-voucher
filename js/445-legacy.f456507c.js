"use strict";(self["webpackChunkvuejs_personalized_push_voucher"]=self["webpackChunkvuejs_personalized_push_voucher"]||[]).push([[445],{2334:function(t,a,e){e.r(a),e.d(a,{default:function(){return R}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(a){t.loadingDialog=a},expression:"loadingDialog"}},[e("v-card",{attrs:{color:"primary",dark:""}},[e("v-card-text",{staticClass:"pa-2 pl-4 pr-4 pb-4"},[t._v(" Loading, please wait "),e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.cancelDialog,callback:function(a){t.cancelDialog=a},expression:"cancelDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v(" Cancel ")]),e("v-card-text",[t._v(" Apakah Anda yakin ingin keluar dari halaman? ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(a){t.cancelDialog=!1}}},[t._v(" TIDAK ")]),e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){t.cancelDialog=!1,t.onCancel()}}},[t._v(" YA ")])],1)],1)],1),e("div",{staticStyle:{display:"flex","align-items":"start","justify-content":"center"}},[e("v-card",{staticClass:"my-4 px-8 py-4 text-center",staticStyle:{"border-radius":"0 0 25px 25px !important"},attrs:{flat:"",tile:"",width:"95%"}},[e("div",{staticClass:"ma-4 pa-2 d-flex flex-row"},[e("h2",{staticStyle:{"font-weight":"400"}},[t._v("Form Add Campaign")])]),e("v-divider"),e("div",{staticClass:"my-4 d-flex flex-row",staticStyle:{width:"100%",display:"flex","align-items":"start","justify-content":"center"}},[e("v-col",{attrs:{cols:"10",md:"10"}},[t.flag.campaign?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card-text",{attrs:{width:"100%"}},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pr-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. ID ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.NoId,callback:function(a){t.NoId=a},expression:"NoId"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" NIK User ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.campaign_form.user_id,callback:function(a){t.$set(t.campaign_form,"user_id",a)},expression:"campaign_form.user_id"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Voucher "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,required:"",outlined:"",filled:""},model:{value:t.campaign_form.tipe_voucher,callback:function(a){t.$set(t.campaign_form,"tipe_voucher",a)},expression:"campaign_form.tipe_voucher"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Inject "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["System (S)","Upload (U)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.tipe_inject,callback:function(a){t.$set(t.campaign_form,"tipe_inject",a)},expression:"campaign_form.tipe_inject"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Title Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_title,callback:function(a){t.$set(t.campaign_form,"campaign_title",a)},expression:"campaign_form.campaign_title"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Subtitle Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_subtitle,callback:function(a){t.$set(t.campaign_form,"campaign_subtitle",a)},expression:"campaign_form.campaign_subtitle"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}},"v-text-field",n,!1),s))]}}],null,!1,275717903),model:{value:t.menu1,callback:function(a){t.menu1=a},expression:"menu1"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu1=!1}},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}},"v-text-field",n,!1),s))]}}],null,!1,4194667628),model:{value:t.menu2,callback:function(a){t.menu2=a},expression:"menu2"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date1},on:{input:function(a){t.menu2=!1}},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Link Image"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.link_image,callback:function(a){t.$set(t.campaign_form,"link_image",a)},expression:"campaign_form.link_image"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}},"v-text-field",n,!1),s))]}}],null,!1,4237919693),model:{value:t.menu3,callback:function(a){t.menu3=a},expression:"menu3"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu3=!1}},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}},"v-text-field",n,!1),s))]}}],null,!1,1398531626),model:{value:t.menu4,callback:function(a){t.menu4=a},expression:"menu4"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date3},on:{input:function(a){t.menu4=!1}},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}})],1)],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pl-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Jenis Promo"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["Targeted (T)","Manual (M)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.jenis_promo,callback:function(a){t.$set(t.campaign_form,"jenis_promo",a)},expression:"campaign_form.jenis_promo"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" BO Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.bo_reward,callback:function(a){t.$set(t.campaign_form,"bo_reward",a)},expression:"campaign_form.bo_reward"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir BO"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}},"v-text-field",n,!1),s))]}}],null,!1,4173111947),model:{value:t.menu5,callback:function(a){t.menu5=a},expression:"menu5"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu5=!1}},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. Juklak"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.juklak,callback:function(a){t.$set(t.campaign_form,"juklak",a)},expression:"campaign_form.juklak"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.SKP"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.skp,callback:function(a){t.$set(t.campaign_form,"skp",a)},expression:"campaign_form.skp"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.PAR Lengkap"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",hint:"Ex: 059/MKT-HO/II/21","persistent-hint":"",outlined:""},model:{value:t.campaign_form.par,callback:function(a){t.$set(t.campaign_form,"par",a)},expression:"campaign_form.par"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Departemen"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["HC","MD","CRM","MC"],required:"",outlined:""},model:{value:t.campaign_form.departemen,callback:function(a){t.$set(t.campaign_form,"departemen",a)},expression:"campaign_form.departemen"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Status Inject"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["Ya","Tidak"],required:"",outlined:""},model:{value:t.campaign_form.flag_inject_status,callback:function(a){t.$set(t.campaign_form,"flag_inject_status",a)},expression:"campaign_form.flag_inject_status"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Inject Member ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date6,callback:function(a){t.$set(t.campaign_form,"date6",a)},expression:"campaign_form.date6"}},"v-text-field",n,!1),s))]}}],null,!1,3797094376),model:{value:t.menu6,callback:function(a){t.menu6=a},expression:"menu6"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu6=!1}},model:{value:t.campaign_form.date6,callback:function(a){t.$set(t.campaign_form,"date6",a)},expression:"campaign_form.date6"}})],1)],1)],1)],1),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" MSO ID"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},on:{change:function(a){return t.getMsoId()}},model:{value:t.campaign_form.mso_id,callback:function(a){t.$set(t.campaign_form,"mso_id",a)},expression:"campaign_form.mso_id"}})],1)],1)],1):t._e(),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Quota Voucher"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,min:1,oninput:"if(this.value < 1) this.value = 1;",type:"number",required:"",outlined:""},model:{value:t.campaign_form.quota_voucher,callback:function(a){t.$set(t.campaign_form,"quota_voucher",a)},expression:"campaign_form.quota_voucher"}})],1)],1)],1):t._e()],1)],1)],1)],1),e("small",{staticClass:"font-italic d-flex flex-row"},[t._v("*Indicates required field")])],1)],1):t.flag.whitelist?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"purple lighten-2"}},"v-btn",n,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Brand")],1)],1)]}}]),model:{value:t.dialog.input,callback:function(a){t.$set(t.dialog,"input",a)},expression:"dialog.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Brand Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[e("v-autocomplete",{attrs:{rules:t.textInputRules,items:t.brand_data,"item-text":"nama_merk","item-value":"kd_merk",label:"Brand*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:t.input.brand_id,callback:function(a){t.$set(t.input,"brand_id",a)},expression:"input.brand_id"}}),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(a){t.dialog.input=!1},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Cancel")])],1),e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.onAddWhitelist()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",n,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog.input2,callback:function(a){t.$set(t.dialog,"input2",a)},expression:"dialog.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/BrandWhitelistTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog.input2=!t.dialog.input2}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12",md:"12",sm:"12"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Brand Whitelist")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"py-1 px-4"},[e("v-data-table",{attrs:{headers:t.headers,items:t.brand_arr,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteItem(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t.flag.voucher_code?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 d-flex flex-column",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"blue darken-2"}},"v-btn",n,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Voucher")],1)],1)]}}]),model:{value:t.dialog2.input,callback:function(a){t.$set(t.dialog2,"input",a)},expression:"dialog2.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Voucher ")]),e("v-form",{staticClass:"pa-8 pt-8",attrs:{"lazy-validation":""}},[e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Voucher Code",required:""},model:{value:t.input.voucher_code,callback:function(a){t.$set(t.input,"voucher_code",a)},expression:"input.voucher_code"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Member ID",required:""},model:{value:t.input.member_id,callback:function(a){t.$set(t.input,"member_id",a)},expression:"input.member_id"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Blast Date",hint:"*Format Date YYYY-MM-DD",required:""},model:{value:t.input.blast_date,callback:function(a){t.$set(t.input,"blast_date",a)},expression:"input.blast_date"}}),e("div",{staticClass:"pt-7 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.addVoucherCode()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Tambah")])],1)],1)],1)],1)],1),e("v-col",{staticClass:"my-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",n,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog2.input2,callback:function(a){t.$set(t.dialog2,"input2",a)},expression:"dialog2.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Voucher Code ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange2}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/VoucherCodeTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog2.input2=!1}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12"}},[e("v-card",{staticClass:"pa-2",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"mt-2 px-2",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Voucher Code")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search2,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search2,callback:function(a){t.search2=a},expression:"search2"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"pt-1 pb-1 px-6"},[e("v-data-table",{attrs:{headers:t.headers2,items:t.voucher_data,search:t.search2},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteWhitelist(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t._e()],1),e("v-col",{attrs:{cols:"2",md:"2"}},[e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"2",outlined:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("campaign")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("campaign")}},[t._v(" Input Campaign")])],1),t.flagBySystem()?e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("whitelist")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("whitelist")}},[t._v(" Brand Whitelist")])],1):t._e(),t.flagBySystem()?t._e():e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("voucher_code")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("voucher_code")}},[t._v(" Voucher Code")])],1),e("v-spacer",{staticClass:"my-8"}),e("v-btn",{staticClass:"ma-auto my-2 white--text",attrs:{color:"green",width:"100%"},on:{click:function(a){return t.onSubmit()}}},[t._v(" Submit ")]),e("v-btn",{staticClass:"ma-auto white--text",attrs:{color:"red lighten-2",width:"100%"},on:{click:function(a){return t.onCancelConfirm()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)},n=[],i=e(6198),r=e(3796),o=(e(9826),e(1539),e(7327),e(7042),e(6699),e(2023),e(4916),e(4723),e(4048),e(9653),e(6755),e(5666),e(8815)),l=e(9669),c=e.n(l),m=e(6814),d=e.n(m),u=e(4105),p={name:"EditForm",components:{},data:function(){return(0,r.Z)({lastUpdate:(new Date).toLocaleString(),loadingDialog:!1,cancelDialog:!1,flag:{campaign:!0,whitelist:!1,voucher_code:!1},textInputRules:[function(t){return!!t||"Kolom harus diisi"}],dateNow:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),NoId:"AUTO GENERATED",menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,campaign_form:{user_id:localStorage.nik,tipe_voucher:"Voucher",tipe_inject:"",campaign_title:"",campaign_subtitle:"",link_image:"",date1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date3:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date4:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),jenis_promo:"Targeted (T)",quota_voucher:"",bo_reward:"",juklak:"",skp:"",par:"",date5:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),flag_inject_status:"Tidak",departemen:"",date6:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),mso_id:""},search:"",dialog:{input:!1,input2:!1},headers:[{text:"Brand ID",align:"start",value:"kd_merk",class:"black--text grey lighten-2"},{text:"Brand Name",value:"nama_merk",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],brand_data:[],brand_arr:[],input:{brand_id:""},mso_id_data:{},flag_mso_id:!0,search2:"",dialog2:{input:!1,input2:!1},headers2:[{text:"Voucher Code",align:"start",value:"voucher_code",class:"black--text grey lighten-2"},{text:"Member ID",align:"start",value:"member_id",class:"black--text grey lighten-2"},{text:"Blast Date",align:"start",value:"blast_date",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],campaign_data:[],voucher_data:[]},"input",{event:"",voucher_code:"",member_id:"",blast_date:""})},mounted:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function a(){var e,s,n,i,r,l,m,u,p,g,_,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loadingDialog=!0,e=t.$route.params.campaign_data,void 0!=e&&null!=e){a.next=6;break}return console.log("campaign data is undefined"),t.$router.push({name:"tables"}).catch((function(t){console.log(t)})),a.abrupt("return");case 6:return t.NoId=e.amtv_id,t.campaign_form.tipe_voucher=e.amtv_tipe_vcr,"S"==e.amtv_tipe_inject?t.campaign_form.tipe_inject="System (S)":"U"==e.amtv_tipe_inject?t.campaign_form.tipe_inject="Upload (U)":t.campaign_form.tipe_inject="System (S)",t.campaign_form.campaign_title=e.amtv_title,t.campaign_form.campaign_subtitle=e.amtv_sub_title,t.campaign_form.link_image=e.amtv_image_link,t.campaign_form.date1=e.amtv_start_date,t.campaign_form.date2=e.amtv_end_date,t.campaign_form.date3=e.amtv_start_sales_date,t.campaign_form.date4=e.amtv_end_sales_date,"T"==e.amtv_jenis_promo?t.campaign_form.jenis_promo="Targeted (T)":"M"==e.amtv_jenis_promo?t.campaign_form.jenis_promo="Manual (M)":t.campaign_form.jenis_promo="Targeted (T)",t.campaign_form.quota_voucher=e.amtv_qty_reward,t.campaign_form.quota_voucher=e.amtv_qty_reward,t.campaign_form.bo_reward=e.amtv_bo_reward,t.campaign_form.juklak=e.amtv_juklak,t.campaign_form.skp=e.amtv_skp,t.campaign_form.par=e.amtv_par,t.campaign_form.date5=e.amtv_bo_end_date,e.amtv_flag_inject?t.campaign_form.flag_inject_status="Ya":t.campaign_form.flag_inject_status="Tidak",t.campaign_form.departemen=e.amtv_department,t.campaign_form.date5=e.amtv_date_upload_member,t.campaign_form.mso_id=e.amtv_mso_id,a.prev=28,s=new Date,n=s.getMonth()+1,i=s.getDate(),n<10&&(n="0"+n),i<10&&(i="0"+i),r=s.getFullYear()+""+n+i,l=r,m="SSO4lfag1ft"+l+"targeted_voucher",u=d()(m),p={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=41,c().get(o.Y+"get-brand?token="+u,p).then((function(a){if(t.brand_data=a.data.data,0==t.brand_data.length)return alert("Gagal mengambil data brand! Silahkan coba lagi."),void(t.loadingDialog=!1)})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data brand! Silahkan coba lagi.")}));case 41:if(0!=t.brand_data.length){a.next=44;break}return t.loadingDialog=!1,a.abrupt("return");case 44:a.next=51;break;case 46:return a.prev=46,a.t0=a["catch"](28),console.error(a.t0),alert("Error: koneksi gagal"),a.abrupt("return");case 51:if("System (S)"!=t.campaign_form.tipe_inject){a.next=97;break}return a.prev=52,s=new Date,n=s.getMonth()+1,i=s.getDate(),n<10&&(n="0"+n),i<10&&(i="0"+i),r=s.getFullYear()+""+n+i,l=r,m="SSO4lfag1ft"+l+"targeted_voucher",u=d()(m),g={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=65,c().get(o.Y+"get-whitelist?token="+u+"&amtv_id="+e.amtv_id,g).then((function(a){t.brand_arr=a.data.data,"success"==a.data.response_message||alert("Gagal mengambil whitelist data! Server timeout")})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil whitelist data!")}));case 65:if(t.brand_arr){a.next=68;break}return t.loadingDialog=!1,a.abrupt("return");case 68:a.next=75;break;case 70:return a.prev=70,a.t1=a["catch"](52),console.error(a.t1),alert("Error: koneksi gagal"),a.abrupt("return");case 75:return a.prev=75,s=new Date,n=s.getMonth()+1,i=s.getDate(),n<10&&(n="0"+n),i<10&&(i="0"+i),r=s.getFullYear()+""+n+i,l=r,m="SSO4lfag1ft"+l+"targeted_voucher",u=d()(m),_={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=88,c().get(o.Y+"get-mso-id?token="+u+"&emp_mso_id="+t.campaign_form.mso_id,_).then((function(a){if(t.mso_id_data=a.data.data[0],0==a.data.data.length)return t.flag_mso_id=!1,alert("MSO ID tidak ditemukan! Silahkan coba lagi."),void(t.loadingDialog=!1);t.flag_mso_id=!0,t.campaign_form.quota_voucher=t.mso_id_data.emp_mso_jumlah_voucher})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data mso id! Silahkan coba lagi.")}));case 88:a.next=95;break;case 90:return a.prev=90,a.t2=a["catch"](75),console.error(a.t2),alert("Error: koneksi gagal"),a.abrupt("return");case 95:a.next=120;break;case 97:return a.prev=97,s=new Date,n=s.getMonth()+1,i=s.getDate(),n<10&&(n="0"+n),i<10&&(i="0"+i),r=s.getFullYear()+""+n+i,l=r,m="SSO4lfag1ft"+l+"targeted_voucher",u=d()(m),f={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=110,c().get(o.Y+"voucher-code?token="+u+"&amtv_id="+e.amtv_id,f).then((function(a){t.voucher_data=a.data.data,"success"==a.data.response_message||alert("Gagal mengambil data voucher code! Server timeout")})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data voucher code!")}));case 110:if(t.voucher_data){a.next=113;break}return t.loadingDialog=!1,a.abrupt("return");case 113:a.next=120;break;case 115:return a.prev=115,a.t3=a["catch"](97),console.error(a.t3),alert("Error: koneksi gagal"),a.abrupt("return");case 120:t.loadingDialog=!1;case 121:case"end":return a.stop()}}),a,null,[[28,46],[52,70],[75,90],[97,115]])})))()},methods:{btnFlag:function(t){this.flag.campaign=!1,this.flag.whitelist=!1,this.flag.voucher_code=!1,"campaign"==t?this.flag.campaign=!0:"whitelist"==t?this.flag.whitelist=!0:"voucher_code"==t&&(this.flag.voucher_code=!0)},getBtnColor:function(t){return"campaign"==t?1==this.flag.campaign?"#6861CE":"grey lighten-1":"whitelist"==t?1==this.flag.whitelist?"#6861CE":"grey lighten-1":"voucher_code"==t?1==this.flag.voucher_code?"#6861CE":"grey lighten-1":void 0},flagBySystem:function(){return"System (S)"==this.campaign_form.tipe_inject},onAddWhitelist:function(){var t=this;if(void 0!=this.brand_data.find((function(a){return a.kd_merk==t.input.brand_id})))if(this.brand_arr.filter((function(a){return a.kd_merk==t.input.brand_id})).length>0)alert("Brand sudah di dalam tabel!");else{var a=this.brand_data.find((function(a){return a.kd_merk==t.input.brand_id}));this.brand_arr.push(a),this.input.brand_id="",this.dialog.input=!1}else alert("Gagal menambahkan item!")},onDeleteItem:function(t){this.brand_arr=this.brand_arr.filter((function(a){return a.kd_merk!==t.kd_merk})),alert("Berhasil menghapus item!")},onFileChange:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson(a[0])},filetojson:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=u.read(a,{type:"binary"}),n=s.SheetNames[0],i=s.Sheets[n],r=u.utils.sheet_to_json(i,{raw:!0});if(!r[0].kd_merk||!r[0].nama_merk)return e.brand_arr=[],void alert("Format header xslx salah!");for(var o=0;o<r.length;o++){if(e.brand_arr.filter((function(t){return t.kd_merk==r[o].kd_merk})).length>0)return void alert("Brand sudah di dalam tabel!");e.brand_arr.push(r[o])}},a.readAsBinaryString(t)},getMsoId:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function a(){var e,s,n,i,r,l,m,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loadingDialog=!0,a.prev=1,e=new Date,s=e.getMonth()+1,n=e.getDate(),s<10&&(s="0"+s),n<10&&(n="0"+n),i=e.getFullYear()+""+s+n,r=i,l="SSO4lfag1ft"+r+"targeted_voucher",m=d()(l),u={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a.next=14,c().get(o.Y+"get-mso-id?token="+m+"&emp_mso_id="+t.campaign_form.mso_id,u).then((function(a){if(t.mso_id_data=a.data.data[0],0==a.data.data.length)return t.flag_mso_id=!1,alert("MSO ID tidak ditemukan! Silahkan coba lagi."),void(t.loadingDialog=!1);t.flag_mso_id=!0,t.campaign_form.quota_voucher=t.mso_id_data.emp_mso_jumlah_voucher})).catch((function(t){console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data mso id! Silahkan coba lagi.")}));case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a["catch"](1),console.error(a.t0),alert("Error: koneksi gagal"),a.abrupt("return");case 21:t.loadingDialog=!1;case 22:case"end":return a.stop()}}),a,null,[[1,16]])})))()},onSubmit:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function a(){var e,s,n,i,r,l,m,u,p,g,_,f,v,h,b,x,k,C,w,y,S,A,T,D,j,O,I,E;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=Date.parse(t.campaign_form.date1),s=Date.parse(t.campaign_form.date2),!(e>s)){a.next=5;break}return alert("Tanggal Awal Reward melebihi Tanggal Akhir Reward."),a.abrupt("return");case 5:if(n=Date.parse(t.campaign_form.date3),i=Date.parse(t.campaign_form.date4),!(n>i)){a.next=10;break}return alert("Tanggal Awal Sales melebihi Tanggal Akhir Sales."),a.abrupt("return");case 10:if(""==t.campaign_form.quota_voucher&&(t.campaign_form.quota_voucher=0),""==t.campaign_form.mso_id&&(t.campaign_form.mso_id=null),""!=t.campaign_form.user_id&&""!=t.campaign_form.tipe_voucher&&""!=t.campaign_form.tipe_inject&&""!=t.campaign_form.campaign_title&&""!=t.campaign_form.campaign_subtitle&&""!=t.campaign_form.link_image&&""!=t.campaign_form.date1&&""!=t.campaign_form.date2&&""!=t.campaign_form.date3&&""!=t.campaign_form.date4&&""!=t.campaign_form.date3&&""!=t.campaign_form.jenis_promo&&""!=t.campaign_form.bo_reward&&""!=t.campaign_form.juklak&&""!=t.campaign_form.skp&&""!=t.campaign_form.par&&""!=t.campaign_form.date5&&""!=t.campaign_form.flag_inject_status&&""!=t.campaign_form.departemen&&""!=t.campaign_form.date6){a.next=17;break}return alert("Lengkapi semua kolom yang wajib diisi!"),a.abrupt("return");case 17:if("System (S)"!=t.campaign_form.tipe_inject){a.next=99;break}if(0!=t.brand_arr.length){a.next=23;break}return alert("Brand Whitelist wajib diisi untuk tipe inject by System."),a.abrupt("return");case 23:if(0!=t.flag_mso_id){a.next=28;break}return alert("MSO ID tidak valid. Silahkan coba lagi."),a.abrupt("return");case 28:if(!(t.campaign_form.quota_voucher>t.mso_id_data.emp_mso_jumlah_voucher)){a.next=33;break}return alert("Quota Voucher yg di input lebih besar dari Quota Voucher MSO ID."),a.abrupt("return");case 33:return t.loadingDialog=!0,"Ya"==t.campaign_form.flag_inject_status?t.campaign_form.flag_inject_status=!0:t.campaign_form.flag_inject_status=!1,t.campaign_form.jenis_promo=t.campaign_form.jenis_promo.charAt(0).toUpperCase(),t.campaign_form.tipe_inject=t.campaign_form.tipe_inject.charAt(0).toUpperCase(),t.campaign_form.bo_reward=t.campaign_form.bo_reward.charAt(0).toUpperCase()+t.campaign_form.bo_reward.slice(1),t.campaign_form.campaign_title=t.campaign_form.campaign_title.charAt(0).toUpperCase()+t.campaign_form.campaign_title.slice(1),t.campaign_form.campaign_subtitle=t.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+t.campaign_form.campaign_subtitle.slice(1),a.prev=40,r=new Date,l=r.getMonth()+1,m=r.getDate(),l<10&&(l="0"+l),m<10&&(m="0"+m),u=r.getFullYear()+""+l+m,p=u,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),f={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},v={amtv_id:t.NoId,amtv_start_date:t.campaign_form.date1,amtv_end_date:t.campaign_form.date2,amtv_title:t.campaign_form.campaign_title,amtv_sub_title:t.campaign_form.campaign_subtitle,amtv_bo_end_date:t.campaign_form.date5,amtv_qty_reward:t.campaign_form.quota_voucher,amtv_bo_reward:t.campaign_form.bo_reward,amtv_flag_inject:t.campaign_form.flag_inject_status,amtv_tipe_vcr:t.campaign_form.tipe_voucher,amtv_update_user:t.campaign_form.user_id,amtv_department:t.campaign_form.departemen,amtv_skp:t.campaign_form.skp,amtv_par:t.campaign_form.par,amtv_tipe_inject:t.campaign_form.tipe_inject,amtv_start_sales_date:t.campaign_form.date3,amtv_end_sales_date:t.campaign_form.date4,amtv_image_link:t.campaign_form.link_image,amtv_juklak:t.campaign_form.juklak,amtv_date_upload_member:t.campaign_form.date6,amtv_jenis_promo:t.campaign_form.jenis_promo,amtv_mso_id:t.campaign_form.mso_id},h=null,a.next=55,c().post(o.Y+"update-campaign?token="+_,v,f).then((function(a){if(!a.data.data.status)return alert("Gagal edit campaign! Silahkan coba lagi."),void(t.loadingDialog=!1);h=a.data.data.amtv_id})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal edit campaign!"),t.loadingDialog=!1}));case 55:if(null!=h){a.next=57;break}return a.abrupt("return");case 57:a.next=65;break;case 59:return a.prev=59,a.t0=a["catch"](40),console.error(a.t0),alert("Error: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 65:if(0==t.brand_arr.length){a.next=94;break}for(a.prev=66,r=new Date,l=r.getMonth()+1,m=r.getDate(),l<10&&(l="0"+l),m<10&&(m="0"+m),u=r.getFullYear()+""+l+m,p=u,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),b={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},x=[],k=[],C=0;C<t.brand_arr.length;C++)x.push(t.brand_arr[C]["kd_merk"]),k.push(t.brand_arr[C]["nama_merk"]);return w={amtv_id:t.NoId,atw_kd_merk:x,atw_merk:k},y=!1,a.next=84,c().post(o.Y+"update-whitelist?token="+_,w,b).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan whitelist! Silahkan coba lagi."),void(t.loadingDialog=!1);y=a.data.data.status})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan whitelist code!"),t.loadingDialog=!1}));case 84:if(y){a.next=86;break}return a.abrupt("return");case 86:a.next=94;break;case 88:return a.prev=88,a.t1=a["catch"](66),console.error(a.t1),alert("Error menambahkan whitelist code: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 94:return t.$router.push({name:"tables"}).catch((function(t){console.log(t)})),t.loadingDialog=!1,a.abrupt("return");case 97:a.next=188;break;case 99:if("Upload (U)"!=t.campaign_form.tipe_inject){a.next=185;break}if(0!=t.voucher_data.length){a.next=105;break}return alert("Voucher code wajib diisi untuk tipe inject by System."),a.abrupt("return");case 105:return t.loadingDialog=!0,"Ya"==t.campaign_form.flag_inject_status?t.campaign_form.flag_inject_status=!0:t.campaign_form.flag_inject_status=!1,t.campaign_form.jenis_promo=t.campaign_form.jenis_promo.charAt(0).toUpperCase(),t.campaign_form.tipe_inject=t.campaign_form.tipe_inject.charAt(0).toUpperCase(),t.campaign_form.bo_reward=t.campaign_form.bo_reward.charAt(0).toUpperCase()+t.campaign_form.bo_reward.slice(1),t.campaign_form.campaign_title=t.campaign_form.campaign_title.charAt(0).toUpperCase()+t.campaign_form.campaign_title.slice(1),t.campaign_form.campaign_subtitle=t.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+t.campaign_form.campaign_subtitle.slice(1),a.prev=112,r=new Date,l=r.getMonth()+1,m=r.getDate(),l<10&&(l="0"+l),m<10&&(m="0"+m),u=r.getFullYear()+""+l+m,p=u,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),S={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},A={amtv_id:t.NoId,amtv_start_date:t.campaign_form.date1,amtv_end_date:t.campaign_form.date2,amtv_title:t.campaign_form.campaign_title,amtv_sub_title:t.campaign_form.campaign_subtitle,amtv_bo_end_date:t.campaign_form.date5,amtv_qty_reward:t.campaign_form.quota_voucher,amtv_bo_reward:t.campaign_form.bo_reward,amtv_flag_inject:t.campaign_form.flag_inject_status,amtv_tipe_vcr:t.campaign_form.tipe_voucher,amtv_update_user:t.campaign_form.user_id,amtv_department:t.campaign_form.departemen,amtv_skp:t.campaign_form.skp,amtv_par:t.campaign_form.par,amtv_tipe_inject:t.campaign_form.tipe_inject,amtv_start_sales_date:t.campaign_form.date3,amtv_end_sales_date:t.campaign_form.date4,amtv_image_link:t.campaign_form.link_image,amtv_juklak:t.campaign_form.juklak,amtv_date_upload_member:t.campaign_form.date6,amtv_jenis_promo:t.campaign_form.jenis_promo,amtv_mso_id:t.campaign_form.mso_id},h=null,a.next=127,c().post(o.Y+"update-campaign?token="+_,A,S).then((function(a){if(!a.data.data.status)return alert("Gagal edit campaign! Silahkan coba lagi."),void(t.loadingDialog=!1);h=a.data.data.amtv_id})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal edit campaign!"),t.loadingDialog=!1}));case 127:if(null!=h){a.next=129;break}return a.abrupt("return");case 129:a.next=137;break;case 131:return a.prev=131,a.t2=a["catch"](112),console.error(a.t2),alert("Error: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 137:if(0==t.voucher_data.length){a.next=180;break}a.prev=138,r=new Date,l=r.getMonth()+1,m=r.getDate(),l<10&&(l="0"+l),m<10&&(m="0"+m),u=r.getFullYear()+""+l+m,p=u,g="SSO4lfag1ft"+p+"targeted_voucher",_=d()(g),T={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},D=[],j=[],O=[],I=!0,C=0;case 154:if(!(C<t.voucher_data.length)){a.next=165;break}if(t.voucher_data[C]["blast_date"].includes("-")){a.next=159;break}return alert("Format tanggal blast voucher code salah!"),I=!1,a.abrupt("return");case 159:D.push(t.voucher_data[C]["voucher_code"]),j.push(t.voucher_data[C]["member_id"]),O.push(t.voucher_data[C]["blast_date"]);case 162:C++,a.next=154;break;case 165:if(!I){a.next=172;break}return E={amtv_id:t.NoId,voucher_code_arr:D,member_id:j,blast_date:O},y=!1,a.next=170,c().post(o.Y+"update-voucher-code?token="+_,E,T).then((function(a){if(!a.data.data.status)return alert("Gagal menambahkan voucher code! Silahkan coba lagi."),void(t.loadingDialog=!1);y=a.data.data.status})).catch((function(a){console.log("PushVoucher.vue (error) :: ",a),alert("Gagal menambahkan voucher code!"),t.loadingDialog=!1}));case 170:if(y){a.next=172;break}return a.abrupt("return");case 172:a.next=180;break;case 174:return a.prev=174,a.t3=a["catch"](138),console.error(a.t3),alert("Error menambahkan voucher code: koneksi gagal"),t.loadingDialog=!1,a.abrupt("return");case 180:return t.$router.push({name:"tables"}).catch((function(t){console.log(t)})),t.loadingDialog=!1,a.abrupt("return");case 183:a.next=188;break;case 185:return alert("Input salah! Silahkan coba lagi."),t.loadingDialog=!1,a.abrupt("return");case 188:case"end":return a.stop()}}),a,null,[[40,59],[66,88],[112,131],[138,174]])})))()},onCancelConfirm:function(){this.cancelDialog=!0},onCancel:function(){this.$router.push({name:"tables"}).catch((function(t){console.log(t)}))},dateIsValid:function(t){var a=/^\d{4}-\d{2}-\d{2}$/;if(null===t.match(a))return!1;var e=new Date(t),s=e.getTime();return"number"===typeof s&&!Number.isNaN(s)&&e.toISOString().startsWith(t)},addVoucherCode:function(){this.dateIsValid(this.input.blast_date)?this.voucher_data.push({voucher_code:this.input.voucher_code,member_id:this.input.member_id,blast_date:this.input.blast_date}):alert("Format tanggal blast voucher code salah!"),this.input.voucher_code="",this.input.member_id="",this.input.blast_date="",this.dialog2.input=!1},onDeleteWhitelist:function(t){this.voucher_data=this.voucher_data.filter((function(a){return a.voucher_code!==t.voucher_code})),alert("Berhasil menghapus item!")},onFileChange2:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson2(a[0])},filetojson2:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=u.read(a,{type:"binary"}),n=s.SheetNames[0],i=s.Sheets[n],r=u.utils.sheet_to_json(i,{raw:!0});if(!(r[0].voucher_code&&r[0].member_id&&r[0].blast_date))return e.voucher_data=[],void alert("Format header xslx salah!");for(var o=0;o<r.length;o++){if(e.voucher_data.filter((function(t){return t.voucher_code==r[o].voucher_code})).length>0)return void alert("Brand sudah di dalam tabel!");if(!e.dateIsValid(r[o].blast_date))return e.voucher_data=[],void alert("Format tanggal blast voucher code salah!");e.voucher_data.push(r[o])}},a.readAsBinaryString(t)}}},g=p,_=e(1001),f=e(3453),v=e.n(f),h=e(1835),b=e(680),x=e(2371),k=e(7118),C=e(2102),w=e(9846),y=e(4998),S=e(4484),A=e(7336),T=e(1418),D=e(6232),j=e(6428),O=e(6768),I=e(7003),E=e(2877),z=e(462),q=e(9762),V=e(5978),P=e(7688),$=e(7921),M=(0,_.Z)(g,s,n,!1,null,null,null),R=M.exports;v()(M,{VAutocomplete:h.Z,VBtn:b.Z,VCard:x.Z,VCardActions:k.h7,VCardText:k.ZB,VCardTitle:k.EB,VCol:C.Z,VContainer:w.Z,VDataTable:y.Z,VDatePicker:S.Z,VDialog:A.Z,VDivider:T.Z,VForm:D.Z,VIcon:j.Z,VMenu:O.Z,VProgressLinear:I.Z,VRow:E.Z,VSelect:z.Z,VSpacer:q.Z,VTextField:V.Z,VToolbar:P.Z,VToolbarTitle:$.qW})}}]);
//# sourceMappingURL=445-legacy.f456507c.js.map