"use strict";(self["webpackChunkvuejs_personalized_push_voucher"]=self["webpackChunkvuejs_personalized_push_voucher"]||[]).push([[445],{2334:function(t,a,e){e.r(a),e.d(a,{default:function(){return $}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(a){t.loadingDialog=a},expression:"loadingDialog"}},[e("v-card",{attrs:{color:"primary",dark:""}},[e("v-card-text",{staticClass:"pa-2 pl-4 pr-4 pb-4"},[t._v(" Loading, please wait "),e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.cancelDialog,callback:function(a){t.cancelDialog=a},expression:"cancelDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v(" Cancel ")]),e("v-card-text",[t._v(" Apakah Anda yakin ingin keluar dari halaman? ")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(a){t.cancelDialog=!1}}},[t._v(" TIDAK ")]),e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){t.cancelDialog=!1,t.onCancel()}}},[t._v(" YA ")])],1)],1)],1),e("div",{staticStyle:{display:"flex","align-items":"start","justify-content":"center"}},[e("v-card",{staticClass:"my-4 px-8 py-4 text-center",staticStyle:{"border-radius":"0 0 25px 25px !important"},attrs:{flat:"",tile:"",width:"95%"}},[e("div",{staticClass:"ma-4 pa-2 d-flex flex-row"},[e("h2",{staticStyle:{"font-weight":"400"}},[t._v("Form Add Campaign")])]),e("v-divider"),e("div",{staticClass:"my-4 d-flex flex-row",staticStyle:{width:"100%",display:"flex","align-items":"start","justify-content":"center"}},[e("v-col",{attrs:{cols:"10",md:"10"}},[t.flag.campaign?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card-text",{attrs:{width:"100%"}},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pr-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. ID ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.NoId,callback:function(a){t.NoId=a},expression:"NoId"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" NIK User ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,outlined:"",filled:""},model:{value:t.campaign_form.user_id,callback:function(a){t.$set(t.campaign_form,"user_id",a)},expression:"campaign_form.user_id"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Voucher "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{readonly:!0,rules:t.textInputRules,required:"",outlined:"",filled:""},model:{value:t.campaign_form.tipe_voucher,callback:function(a){t.$set(t.campaign_form,"tipe_voucher",a)},expression:"campaign_form.tipe_voucher"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"black--text pt-2 d-flex flex-row",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tipe Inject "),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["System (S)","Upload (U)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.tipe_inject,callback:function(a){t.$set(t.campaign_form,"tipe_inject",a)},expression:"campaign_form.tipe_inject"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Title Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_title,callback:function(a){t.$set(t.campaign_form,"campaign_title",a)},expression:"campaign_form.campaign_title"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Subtitle Push Notification"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.campaign_subtitle,callback:function(a){t.$set(t.campaign_form,"campaign_subtitle",a)},expression:"campaign_form.campaign_subtitle"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}},"v-text-field",i,!1),s))]}}],null,!1,275717903),model:{value:t.menu1,callback:function(a){t.menu1=a},expression:"menu1"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu1=!1}},model:{value:t.campaign_form.date1,callback:function(a){t.$set(t.campaign_form,"date1",a)},expression:"campaign_form.date1"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}},"v-text-field",i,!1),s))]}}],null,!1,4194667628),model:{value:t.menu2,callback:function(a){t.menu2=a},expression:"menu2"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date1},on:{input:function(a){t.menu2=!1}},model:{value:t.campaign_form.date2,callback:function(a){t.$set(t.campaign_form,"date2",a)},expression:"campaign_form.date2"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Link Image"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"","persistent-hint":"",outlined:""},model:{value:t.campaign_form.link_image,callback:function(a){t.$set(t.campaign_form,"link_image",a)},expression:"campaign_form.link_image"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Awal Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}},"v-text-field",i,!1),s))]}}],null,!1,4237919693),model:{value:t.menu3,callback:function(a){t.menu3=a},expression:"menu3"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu3=!1}},model:{value:t.campaign_form.date3,callback:function(a){t.$set(t.campaign_form,"date3",a)},expression:"campaign_form.date3"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir Sales"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}},"v-text-field",i,!1),s))]}}],null,!1,1398531626),model:{value:t.menu4,callback:function(a){t.menu4=a},expression:"menu4"}},[e("v-date-picker",{attrs:{min:t.campaign_form.date3},on:{input:function(a){t.menu4=!1}},model:{value:t.campaign_form.date4,callback:function(a){t.$set(t.campaign_form,"date4",a)},expression:"campaign_form.date4"}})],1)],1)],1)],1)],1)],1),e("v-col",{attrs:{cols:"6"}},[e("v-row",{staticClass:"pl-4"},[e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Jenis Promo"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{items:["Targeted (T)","Manual (M)"],rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.jenis_promo,callback:function(a){t.$set(t.campaign_form,"jenis_promo",a)},expression:"campaign_form.jenis_promo"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" BO Reward"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.bo_reward,callback:function(a){t.$set(t.campaign_form,"bo_reward",a)},expression:"campaign_form.bo_reward"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Akhir BO"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}},"v-text-field",i,!1),s))]}}],null,!1,4173111947),model:{value:t.menu5,callback:function(a){t.menu5=a},expression:"menu5"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu5=!1}},model:{value:t.campaign_form.date5,callback:function(a){t.$set(t.campaign_form,"date5",a)},expression:"campaign_form.date5"}})],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No. Juklak"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.juklak,callback:function(a){t.$set(t.campaign_form,"juklak",a)},expression:"campaign_form.juklak"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.SKP"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},model:{value:t.campaign_form.skp,callback:function(a){t.$set(t.campaign_form,"skp",a)},expression:"campaign_form.skp"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" No.PAR Lengkap"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",hint:"Ex: 059/MKT-HO/II/21","persistent-hint":"",outlined:""},model:{value:t.campaign_form.par,callback:function(a){t.$set(t.campaign_form,"par",a)},expression:"campaign_form.par"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Departemen"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["HC","MD","CRM","MC"],required:"",outlined:""},model:{value:t.campaign_form.departemen,callback:function(a){t.$set(t.campaign_form,"departemen",a)},expression:"campaign_form.departemen"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Status Inject"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-select",{attrs:{rules:t.textInputRules,items:["Ya","Tidak"],required:"",outlined:""},model:{value:t.campaign_form.flag_inject_status,callback:function(a){t.$set(t.campaign_form,"flag_inject_status",a)},expression:"campaign_form.flag_inject_status"}})],1)],1)],1),e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Tanggal Inject Member ")])]),e("v-col",{attrs:{cols:"9"}},[e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:t.campaign_form.date6,callback:function(a){t.$set(t.campaign_form,"date6",a)},expression:"campaign_form.date6"}},"v-text-field",i,!1),s))]}}],null,!1,3797094376),model:{value:t.menu6,callback:function(a){t.menu6=a},expression:"menu6"}},[e("v-date-picker",{attrs:{min:t.dateNow},on:{input:function(a){t.menu6=!1}},model:{value:t.campaign_form.date6,callback:function(a){t.$set(t.campaign_form,"date6",a)},expression:"campaign_form.date6"}})],1)],1)],1)],1),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" MSO ID"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,required:"",outlined:""},on:{change:function(a){return t.getMsoId()}},model:{value:t.campaign_form.mso_id,callback:function(a){t.$set(t.campaign_form,"mso_id",a)},expression:"campaign_form.mso_id"}})],1)],1)],1):t._e(),t.flagBySystem()?e("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[e("v-row",{staticClass:"align-start"},[e("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[e("h3",{staticClass:"text-start black--text pt-2",staticStyle:{"font-weight":"400","font-size":"16px"}},[t._v(" Quota Voucher"),e("strong",{staticClass:"red--text"},[t._v("*")])])]),e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{rules:t.textInputRules,min:1,oninput:"if(this.value < 1) this.value = 1;",type:"number",required:"",outlined:""},model:{value:t.campaign_form.quota_voucher,callback:function(a){t.$set(t.campaign_form,"quota_voucher",a)},expression:"campaign_form.quota_voucher"}})],1)],1)],1):t._e()],1)],1)],1)],1),e("small",{staticClass:"font-italic d-flex flex-row"},[t._v("*Indicates required field")])],1)],1):t.flag.whitelist?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"purple lighten-2"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Brand")],1)],1)]}}]),model:{value:t.dialog.input,callback:function(a){t.$set(t.dialog,"input",a)},expression:"dialog.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Brand Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[e("v-autocomplete",{attrs:{rules:t.textInputRules,items:t.brand_data,"item-text":"nama_merk","item-value":"kd_merk",label:"Brand*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:t.input.brand_id,callback:function(a){t.$set(t.input,"brand_id",a)},expression:"input.brand_id"}}),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(a){t.dialog.input=!1},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Cancel")])],1),e("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.onAddWhitelist()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog.input2,callback:function(a){t.$set(t.dialog,"input2",a)},expression:"dialog.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Whitelist ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/BrandWhitelistTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog.input2=!t.dialog.input2}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12",md:"12",sm:"12"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Brand Whitelist")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"py-1 px-4"},[e("v-data-table",{attrs:{headers:t.headers,items:t.brand_arr,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteItem(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t.flag.voucher_code?e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 d-flex flex-column",staticStyle:{width:"100%"}},[e("div",{staticClass:"ma-0 pa-0 px-2 d-flex flex-row"},[e("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"blue darken-2"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus-box")]),t._v("  Tambah Voucher")],1)],1)]}}]),model:{value:t.dialog2.input,callback:function(a){t.$set(t.dialog2,"input",a)},expression:"dialog2.input"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Tambah Voucher ")]),e("v-form",{staticClass:"pa-8 pt-8",attrs:{"lazy-validation":""}},[e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Voucher Code",required:""},model:{value:t.input.voucher_code,callback:function(a){t.$set(t.input,"voucher_code",a)},expression:"input.voucher_code"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Member ID",required:""},model:{value:t.input.member_id,callback:function(a){t.$set(t.input,"member_id",a)},expression:"input.member_id"}}),e("v-text-field",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"14px"},attrs:{rules:t.textInputRules,label:"Blast Date",hint:"*Format Date YYYY-MM-DD",required:""},model:{value:t.input.blast_date,callback:function(a){t.$set(t.input,"blast_date",a)},expression:"input.blast_date"}}),e("div",{staticClass:"pt-7 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){return t.addVoucherCode()},keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.validate.apply(null,arguments)}}},[t._v("Tambah")])],1)],1)],1)],1)],1),e("v-col",{staticClass:"my-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[e("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",t._g(t._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple darken-1"}},"v-btn",i,!1),s),[e("v-icon",{attrs:{small:""}},[t._v("mdi-upload")]),t._v("  Upload Excel")],1)],1)]}}]),model:{value:t.dialog2.input2,callback:function(a){t.$set(t.dialog2,"input2",a)},expression:"dialog2.input2"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[e("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[t._v(" Upload File Voucher Code ")]),e("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:t.onFileChange2}})]),e("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[e("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-voucher/files/VoucherCodeTemplate.xlsx"}},[e("p",[t._v("Download .xslx")])])]),e("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[e("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(a){t.dialog2.input2=!1}}},[t._v("Done")])],1)])],1)],1)],1)],1),e("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[e("v-col",{staticClass:"pa-2",attrs:{cols:"12"}},[e("v-card",{staticClass:"pa-2",attrs:{elevation:"3",outlined:""}},[e("v-toolbar",{staticClass:"mt-2 px-2",attrs:{flat:""}},[e("v-toolbar-title",[t._v("List Voucher Code")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-spacer"),e("v-text-field",{staticStyle:{width:"1%"},attrs:{value:t.search2,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search2,callback:function(a){t.search2=a},expression:"search2"}})],1),e("v-card",{staticClass:"my-4",attrs:{flat:""}},[e("v-card-text",{staticClass:"pt-1 pb-1 px-6"},[e("v-data-table",{attrs:{headers:t.headers2,items:t.voucher_data,search:t.search2},scopedSlots:t._u([{key:"item.actions",fn:function(a){var s=a.item;return[e("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return t.onDeleteWhitelist(s)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)])]):t._e()],1),e("v-col",{attrs:{cols:"2",md:"2"}},[e("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[e("v-card",{staticClass:"pa-4",attrs:{elevation:"2",outlined:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("campaign")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("campaign")}},[t._v(" Input Campaign")])],1),t.flagBySystem()?e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("whitelist")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("whitelist")}},[t._v(" Brand Whitelist")])],1):t._e(),t.flagBySystem()?t._e():e("div",{staticClass:"mt-3",staticStyle:{display:"flex","justify-content":"center"},on:{click:function(a){return t.btnFlag("voucher_code")}}},[e("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"45px",block:"",rounded:"",color:t.getBtnColor("voucher_code")}},[t._v(" Voucher Code")])],1),e("v-spacer",{staticClass:"my-8"}),e("v-btn",{staticClass:"ma-auto my-2 white--text",attrs:{color:"green",width:"100%"},on:{click:function(a){return t.onSubmit()}}},[t._v(" Submit ")]),e("v-btn",{staticClass:"ma-auto white--text",attrs:{color:"red lighten-2",width:"100%"},on:{click:function(a){return t.onCancelConfirm()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)],1)},i=[],o=(e(6699),e(8815)),l=e(9669),n=e.n(l),r=e(2023),c=e.n(r),d=e(4105),m={name:"EditForm",components:{},data(){return{lastUpdate:(new Date).toLocaleString(),loadingDialog:!1,cancelDialog:!1,flag:{campaign:!0,whitelist:!1,voucher_code:!1},textInputRules:[t=>!!t||"Kolom harus diisi"],dateNow:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),NoId:"AUTO GENERATED",menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,campaign_form:{user_id:localStorage.nik,tipe_voucher:"Voucher",tipe_inject:"",campaign_title:"",campaign_subtitle:"",link_image:"",date1:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date2:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date3:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),date4:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),jenis_promo:"Targeted (T)",quota_voucher:"",bo_reward:"",juklak:"",skp:"",par:"",date5:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),flag_inject_status:"Tidak",departemen:"",date6:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),mso_id:""},search:"",dialog:{input:!1,input2:!1},headers:[{text:"Brand ID",align:"start",value:"kd_merk",class:"black--text grey lighten-2"},{text:"Brand Name",value:"nama_merk",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],brand_data:[],brand_arr:[],input:{brand_id:""},mso_id_data:{},flag_mso_id:!0,search2:"",dialog2:{input:!1,input2:!1},headers2:[{text:"Voucher Code",align:"start",value:"voucher_code",class:"black--text grey lighten-2"},{text:"Member ID",align:"start",value:"member_id",class:"black--text grey lighten-2"},{text:"Blast Date",align:"start",value:"blast_date",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],campaign_data:[],voucher_data:[],input:{event:"",voucher_code:"",member_id:"",blast_date:""}}},async mounted(){this.loadingDialog=!0;let t=this.$route.params.campaign_data;if(void 0==t||null==t)return console.log("campaign data is undefined"),void this.$router.push({name:"tables"}).catch((t=>{console.log(t)}));this.NoId=t.amtv_id,this.campaign_form.tipe_voucher=t.amtv_tipe_vcr,"S"==t.amtv_tipe_inject?this.campaign_form.tipe_inject="System (S)":"U"==t.amtv_tipe_inject?this.campaign_form.tipe_inject="Upload (U)":this.campaign_form.tipe_inject="System (S)",this.campaign_form.campaign_title=t.amtv_title,this.campaign_form.campaign_subtitle=t.amtv_sub_title,this.campaign_form.link_image=t.amtv_image_link,this.campaign_form.date1=t.amtv_start_date,this.campaign_form.date2=t.amtv_end_date,this.campaign_form.date3=t.amtv_start_sales_date,this.campaign_form.date4=t.amtv_end_sales_date,"T"==t.amtv_jenis_promo?this.campaign_form.jenis_promo="Targeted (T)":"M"==t.amtv_jenis_promo?this.campaign_form.jenis_promo="Manual (M)":this.campaign_form.jenis_promo="Targeted (T)",this.campaign_form.quota_voucher=t.amtv_qty_reward,this.campaign_form.quota_voucher=t.amtv_qty_reward,this.campaign_form.bo_reward=t.amtv_bo_reward,this.campaign_form.juklak=t.amtv_juklak,this.campaign_form.skp=t.amtv_skp,this.campaign_form.par=t.amtv_par,this.campaign_form.date5=t.amtv_bo_end_date,t.amtv_flag_inject?this.campaign_form.flag_inject_status="Ya":this.campaign_form.flag_inject_status="Tidak",this.campaign_form.departemen=t.amtv_department,this.campaign_form.date5=t.amtv_date_upload_member,this.campaign_form.mso_id=t.amtv_mso_id;try{var a=new Date,e=a.getMonth()+1,s=a.getDate();e<10&&(e="0"+e),s<10&&(s="0"+s);var i=a.getFullYear()+""+e+s,l=i,r="SSO4lfag1ft"+l+"targeted_voucher",d=c()(r);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};if(await n().get(o.Y+"get-brand?token="+d,t).then((t=>{if(this.brand_data=t.data.data,0==this.brand_data.length)return alert("Gagal mengambil data brand! Silahkan coba lagi."),void(this.loadingDialog=!1)})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data brand! Silahkan coba lagi.")})),0==this.brand_data.length)return void(this.loadingDialog=!1)}catch(m){return console.error(m),void alert("Error: koneksi gagal")}if("System (S)"==this.campaign_form.tipe_inject){try{a=new Date,e=a.getMonth()+1,s=a.getDate();e<10&&(e="0"+e),s<10&&(s="0"+s);i=a.getFullYear()+""+e+s,l=i,r="SSO4lfag1ft"+l+"targeted_voucher",d=c()(r);const m={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};if(await n().get(o.Y+"get-whitelist?token="+d+"&amtv_id="+t.amtv_id,m).then((t=>{this.brand_arr=t.data.data,"success"==t.data.response_message||alert("Gagal mengambil whitelist data! Server timeout")})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil whitelist data!")})),!this.brand_arr)return void(this.loadingDialog=!1)}catch(m){return console.error(m),void alert("Error: koneksi gagal")}try{a=new Date,e=a.getMonth()+1,s=a.getDate();e<10&&(e="0"+e),s<10&&(s="0"+s);i=a.getFullYear()+""+e+s,l=i,r="SSO4lfag1ft"+l+"targeted_voucher",d=c()(r);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};await n().get(o.Y+"get-mso-id?token="+d+"&emp_mso_id="+this.campaign_form.mso_id,t).then((t=>{if(this.mso_id_data=t.data.data[0],0==t.data.data.length)return this.flag_mso_id=!1,alert("MSO ID tidak ditemukan! Silahkan coba lagi."),void(this.loadingDialog=!1);this.flag_mso_id=!0,this.campaign_form.quota_voucher=this.mso_id_data.emp_mso_jumlah_voucher})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data mso id! Silahkan coba lagi.")}))}catch(m){return console.error(m),void alert("Error: koneksi gagal")}}else try{a=new Date,e=a.getMonth()+1,s=a.getDate();e<10&&(e="0"+e),s<10&&(s="0"+s);i=a.getFullYear()+""+e+s,l=i,r="SSO4lfag1ft"+l+"targeted_voucher",d=c()(r);const m={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};if(await n().get(o.Y+"voucher-code?token="+d+"&amtv_id="+t.amtv_id,m).then((t=>{this.voucher_data=t.data.data,"success"==t.data.response_message||alert("Gagal mengambil data voucher code! Server timeout")})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data voucher code!")})),!this.voucher_data)return void(this.loadingDialog=!1)}catch(m){return console.error(m),void alert("Error: koneksi gagal")}this.loadingDialog=!1},methods:{btnFlag(t){this.flag.campaign=!1,this.flag.whitelist=!1,this.flag.voucher_code=!1,"campaign"==t?this.flag.campaign=!0:"whitelist"==t?this.flag.whitelist=!0:"voucher_code"==t&&(this.flag.voucher_code=!0)},getBtnColor(t){return"campaign"==t?1==this.flag.campaign?"#6861CE":"grey lighten-1":"whitelist"==t?1==this.flag.whitelist?"#6861CE":"grey lighten-1":"voucher_code"==t?1==this.flag.voucher_code?"#6861CE":"grey lighten-1":void 0},flagBySystem(){return"System (S)"==this.campaign_form.tipe_inject},onAddWhitelist(){if(void 0!=this.brand_data.find((t=>t.kd_merk==this.input.brand_id)))if(this.brand_arr.filter((t=>t.kd_merk==this.input.brand_id)).length>0)alert("Brand sudah di dalam tabel!");else{var t=this.brand_data.find((t=>t.kd_merk==this.input.brand_id));this.brand_arr.push(t),this.input.brand_id="",this.dialog.input=!1}else alert("Gagal menambahkan item!")},onDeleteItem(t){this.brand_arr=this.brand_arr.filter((function(a){return a.kd_merk!==t.kd_merk})),alert("Berhasil menghapus item!")},onFileChange(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson(a[0])},filetojson(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=d.read(a,{type:"binary"}),i=s.SheetNames[0],o=s.Sheets[i],l=d.utils.sheet_to_json(o,{raw:!0});if(!l[0].kd_merk||!l[0].nama_merk)return e.brand_arr=[],void alert("Format header xslx salah!");for(var n=0;n<l.length;n++){if(e.brand_arr.filter((t=>t.kd_merk==l[n].kd_merk)).length>0)return void alert("Brand sudah di dalam tabel!");e.brand_arr.push(l[n])}},a.readAsBinaryString(t)},async getMsoId(){this.loadingDialog=!0;try{var t=new Date,a=t.getMonth()+1,e=t.getDate();a<10&&(a="0"+a),e<10&&(e="0"+e);var s=t.getFullYear()+""+a+e,i=s,l="SSO4lfag1ft"+i+"targeted_voucher",r=c()(l);const d={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};await n().get(o.Y+"get-mso-id?token="+r+"&emp_mso_id="+this.campaign_form.mso_id,d).then((t=>{if(this.mso_id_data=t.data.data[0],0==t.data.data.length)return this.flag_mso_id=!1,alert("MSO ID tidak ditemukan! Silahkan coba lagi."),void(this.loadingDialog=!1);this.flag_mso_id=!0,this.campaign_form.quota_voucher=this.mso_id_data.emp_mso_jumlah_voucher})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal mengambil data mso id! Silahkan coba lagi.")}))}catch(d){return console.error(d),void alert("Error: koneksi gagal")}this.loadingDialog=!1},async onSubmit(){var t=Date.parse(this.campaign_form.date1),a=Date.parse(this.campaign_form.date2);if(t>a)alert("Tanggal Awal Reward melebihi Tanggal Akhir Reward.");else{var e=Date.parse(this.campaign_form.date3),s=Date.parse(this.campaign_form.date4);if(e>s)alert("Tanggal Awal Sales melebihi Tanggal Akhir Sales.");else{if(""==this.campaign_form.quota_voucher&&(this.campaign_form.quota_voucher=0),""==this.campaign_form.mso_id&&(this.campaign_form.mso_id=null),""!=this.campaign_form.user_id&&""!=this.campaign_form.tipe_voucher&&""!=this.campaign_form.tipe_inject&&""!=this.campaign_form.campaign_title&&""!=this.campaign_form.campaign_subtitle&&""!=this.campaign_form.link_image&&""!=this.campaign_form.date1&&""!=this.campaign_form.date2&&""!=this.campaign_form.date3&&""!=this.campaign_form.date4&&""!=this.campaign_form.date3&&""!=this.campaign_form.jenis_promo&&""!=this.campaign_form.bo_reward&&""!=this.campaign_form.juklak&&""!=this.campaign_form.skp&&""!=this.campaign_form.par&&""!=this.campaign_form.date5&&""!=this.campaign_form.flag_inject_status&&""!=this.campaign_form.departemen&&""!=this.campaign_form.date6){if("System (S)"==this.campaign_form.tipe_inject){if(0==this.brand_arr.length)return void alert("Brand Whitelist wajib diisi untuk tipe inject by System.");if(0==this.flag_mso_id)return void alert("MSO ID tidak valid. Silahkan coba lagi.");if(this.campaign_form.quota_voucher>this.mso_id_data.emp_mso_jumlah_voucher)return void alert("Quota Voucher yg di input lebih besar dari Quota Voucher MSO ID.");this.loadingDialog=!0,"Ya"==this.campaign_form.flag_inject_status?this.campaign_form.flag_inject_status=!0:this.campaign_form.flag_inject_status=!1,this.campaign_form.jenis_promo=this.campaign_form.jenis_promo.charAt(0).toUpperCase(),this.campaign_form.tipe_inject=this.campaign_form.tipe_inject.charAt(0).toUpperCase(),this.campaign_form.bo_reward=this.campaign_form.bo_reward.charAt(0).toUpperCase()+this.campaign_form.bo_reward.slice(1),this.campaign_form.campaign_title=this.campaign_form.campaign_title.charAt(0).toUpperCase()+this.campaign_form.campaign_title.slice(1),this.campaign_form.campaign_subtitle=this.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+this.campaign_form.campaign_subtitle.slice(1);try{var i=new Date,l=i.getMonth()+1,r=i.getDate();l<10&&(l="0"+l),r<10&&(r="0"+r);var d=i.getFullYear()+""+l+r,m=d,p="SSO4lfag1ft"+m+"targeted_voucher",u=c()(p);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a={amtv_id:this.NoId,amtv_start_date:this.campaign_form.date1,amtv_end_date:this.campaign_form.date2,amtv_title:this.campaign_form.campaign_title,amtv_sub_title:this.campaign_form.campaign_subtitle,amtv_bo_end_date:this.campaign_form.date5,amtv_qty_reward:this.campaign_form.quota_voucher,amtv_bo_reward:this.campaign_form.bo_reward,amtv_flag_inject:this.campaign_form.flag_inject_status,amtv_tipe_vcr:this.campaign_form.tipe_voucher,amtv_update_user:this.campaign_form.user_id,amtv_department:this.campaign_form.departemen,amtv_skp:this.campaign_form.skp,amtv_par:this.campaign_form.par,amtv_tipe_inject:this.campaign_form.tipe_inject,amtv_start_sales_date:this.campaign_form.date3,amtv_end_sales_date:this.campaign_form.date4,amtv_image_link:this.campaign_form.link_image,amtv_juklak:this.campaign_form.juklak,amtv_date_upload_member:this.campaign_form.date6,amtv_jenis_promo:this.campaign_form.jenis_promo,amtv_mso_id:this.campaign_form.mso_id};var g=null;if(await n().post(o.Y+"update-campaign?token="+u,a,t).then((t=>{if(!t.data.data.status)return alert("Gagal edit campaign! Silahkan coba lagi."),void(this.loadingDialog=!1);g=t.data.data.amtv_id})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal edit campaign!"),this.loadingDialog=!1})),null==g)return}catch(w){return console.error(w),alert("Error: koneksi gagal"),void(this.loadingDialog=!1)}if(0!=this.brand_arr.length)try{i=new Date,l=i.getMonth()+1,r=i.getDate();l<10&&(l="0"+l),r<10&&(r="0"+r);d=i.getFullYear()+""+l+r,m=d,p="SSO4lfag1ft"+m+"targeted_voucher",u=c()(p);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};for(var _=[],h=[],v=0;v<this.brand_arr.length;v++)_.push(this.brand_arr[v]["kd_merk"]),h.push(this.brand_arr[v]["nama_merk"]);const a={amtv_id:this.NoId,atw_kd_merk:_,atw_merk:h};var f=!1;if(await n().post(o.Y+"update-whitelist?token="+u,a,t).then((t=>{if(!t.data.data.status)return alert("Gagal menambahkan whitelist! Silahkan coba lagi."),void(this.loadingDialog=!1);f=t.data.data.status})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal menambahkan whitelist code!"),this.loadingDialog=!1})),!f)return}catch(w){return console.error(w),alert("Error menambahkan whitelist code: koneksi gagal"),void(this.loadingDialog=!1)}return this.$router.push({name:"tables"}).catch((t=>{console.log(t)})),void(this.loadingDialog=!1)}if("Upload (U)"==this.campaign_form.tipe_inject){if(0==this.voucher_data.length)return void alert("Voucher code wajib diisi untuk tipe inject by System.");this.loadingDialog=!0,"Ya"==this.campaign_form.flag_inject_status?this.campaign_form.flag_inject_status=!0:this.campaign_form.flag_inject_status=!1,this.campaign_form.jenis_promo=this.campaign_form.jenis_promo.charAt(0).toUpperCase(),this.campaign_form.tipe_inject=this.campaign_form.tipe_inject.charAt(0).toUpperCase(),this.campaign_form.bo_reward=this.campaign_form.bo_reward.charAt(0).toUpperCase()+this.campaign_form.bo_reward.slice(1),this.campaign_form.campaign_title=this.campaign_form.campaign_title.charAt(0).toUpperCase()+this.campaign_form.campaign_title.slice(1),this.campaign_form.campaign_subtitle=this.campaign_form.campaign_subtitle.charAt(0).toUpperCase()+this.campaign_form.campaign_subtitle.slice(1);try{i=new Date,l=i.getMonth()+1,r=i.getDate();l<10&&(l="0"+l),r<10&&(r="0"+r);d=i.getFullYear()+""+l+r,m=d,p="SSO4lfag1ft"+m+"targeted_voucher",u=c()(p);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},a={amtv_id:this.NoId,amtv_start_date:this.campaign_form.date1,amtv_end_date:this.campaign_form.date2,amtv_title:this.campaign_form.campaign_title,amtv_sub_title:this.campaign_form.campaign_subtitle,amtv_bo_end_date:this.campaign_form.date5,amtv_qty_reward:this.campaign_form.quota_voucher,amtv_bo_reward:this.campaign_form.bo_reward,amtv_flag_inject:this.campaign_form.flag_inject_status,amtv_tipe_vcr:this.campaign_form.tipe_voucher,amtv_update_user:this.campaign_form.user_id,amtv_department:this.campaign_form.departemen,amtv_skp:this.campaign_form.skp,amtv_par:this.campaign_form.par,amtv_tipe_inject:this.campaign_form.tipe_inject,amtv_start_sales_date:this.campaign_form.date3,amtv_end_sales_date:this.campaign_form.date4,amtv_image_link:this.campaign_form.link_image,amtv_juklak:this.campaign_form.juklak,amtv_date_upload_member:this.campaign_form.date6,amtv_jenis_promo:this.campaign_form.jenis_promo,amtv_mso_id:this.campaign_form.mso_id};g=null;if(await n().post(o.Y+"update-campaign?token="+u,a,t).then((t=>{if(!t.data.data.status)return alert("Gagal edit campaign! Silahkan coba lagi."),void(this.loadingDialog=!1);g=t.data.data.amtv_id})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal edit campaign!"),this.loadingDialog=!1})),null==g)return}catch(w){return console.error(w),alert("Error: koneksi gagal"),void(this.loadingDialog=!1)}if(0!=this.voucher_data.length)try{i=new Date,l=i.getMonth()+1,r=i.getDate();l<10&&(l="0"+l),r<10&&(r="0"+r);d=i.getFullYear()+""+l+r,m=d,p="SSO4lfag1ft"+m+"targeted_voucher",u=c()(p);const t={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"};var x=[],b=[],C=[],k=!0;for(v=0;v<this.voucher_data.length;v++){if(!this.voucher_data[v]["blast_date"].includes("-"))return alert("Format tanggal blast voucher code salah!"),void(k=!1);x.push(this.voucher_data[v]["voucher_code"]),b.push(this.voucher_data[v]["member_id"]),C.push(this.voucher_data[v]["blast_date"])}if(k){const a={amtv_id:this.NoId,voucher_code_arr:x,member_id:b,blast_date:C};f=!1;if(await n().post(o.Y+"update-voucher-code?token="+u,a,t).then((t=>{if(!t.data.data.status)return alert("Gagal menambahkan voucher code! Silahkan coba lagi."),void(this.loadingDialog=!1);f=t.data.data.status})).catch((t=>{console.log("PushVoucher.vue (error) :: ",t),alert("Gagal menambahkan voucher code!"),this.loadingDialog=!1})),!f)return}}catch(w){return console.error(w),alert("Error menambahkan voucher code: koneksi gagal"),void(this.loadingDialog=!1)}return this.$router.push({name:"tables"}).catch((t=>{console.log(t)})),void(this.loadingDialog=!1)}return alert("Input salah! Silahkan coba lagi."),void(this.loadingDialog=!1)}alert("Lengkapi semua kolom yang wajib diisi!")}}},onCancelConfirm(){this.cancelDialog=!0},onCancel(){this.$router.push({name:"tables"}).catch((t=>{console.log(t)}))},dateIsValid(t){const a=/^\d{4}-\d{2}-\d{2}$/;if(null===t.match(a))return!1;const e=new Date(t),s=e.getTime();return"number"===typeof s&&!Number.isNaN(s)&&e.toISOString().startsWith(t)},addVoucherCode(){this.dateIsValid(this.input.blast_date)?this.voucher_data.push({voucher_code:this.input.voucher_code,member_id:this.input.member_id,blast_date:this.input.blast_date}):alert("Format tanggal blast voucher code salah!"),this.input.voucher_code="",this.input.member_id="",this.input.blast_date="",this.dialog2.input=!1},onDeleteWhitelist(t){this.voucher_data=this.voucher_data.filter((function(a){return a.voucher_code!==t.voucher_code})),alert("Berhasil menghapus item!")},onFileChange2(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson2(a[0])},filetojson2(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,s=d.read(a,{type:"binary"}),i=s.SheetNames[0],o=s.Sheets[i],l=d.utils.sheet_to_json(o,{raw:!0});if(!(l[0].voucher_code&&l[0].member_id&&l[0].blast_date))return e.voucher_data=[],void alert("Format header xslx salah!");for(var n=0;n<l.length;n++){if(e.voucher_data.filter((t=>t.voucher_code==l[n].voucher_code)).length>0)return void alert("Brand sudah di dalam tabel!");if(!e.dateIsValid(l[n].blast_date))return e.voucher_data=[],void alert("Format tanggal blast voucher code salah!");e.voucher_data.push(l[n])}},a.readAsBinaryString(t)}}},p=m,u=e(1001),g=e(3453),_=e.n(g),h=e(1835),v=e(680),f=e(2371),x=e(7118),b=e(2102),C=e(9846),k=e(4998),w=e(4484),y=e(7336),S=e(1418),A=e(6232),T=e(6428),D=e(6768),j=e(7003),O=e(2877),I=e(462),E=e(9762),z=e(5978),q=e(5218),V=e(7921),P=(0,u.Z)(p,s,i,!1,null,null,null),$=P.exports;_()(P,{VAutocomplete:h.Z,VBtn:v.Z,VCard:f.Z,VCardActions:x.h7,VCardText:x.ZB,VCardTitle:x.EB,VCol:b.Z,VContainer:C.Z,VDataTable:k.Z,VDatePicker:w.Z,VDialog:y.Z,VDivider:S.Z,VForm:A.Z,VIcon:T.Z,VMenu:D.Z,VProgressLinear:j.Z,VRow:O.Z,VSelect:I.Z,VSpacer:E.Z,VTextField:z.Z,VToolbar:q.Z,VToolbarTitle:V.qW})}}]);
//# sourceMappingURL=445.fb862735.js.map