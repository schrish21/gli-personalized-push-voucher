"use strict";(self["webpackChunkvuejs_personalized_push_voucher"]=self["webpackChunkvuejs_personalized_push_voucher"]||[]).push([[49],{5049:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[a("div",{staticClass:"login-block pa-8"},[a("h1",{staticClass:"mb-8"},[e._v("Login")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.login,expression:"login.login"}],attrs:{type:"text",placeholder:"NIK",id:"username"},domProps:{value:e.login.login},on:{input:function(t){t.target.composing||e.$set(e.login,"login",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password",id:"password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),a("button",{staticClass:"mt-4",on:{click:e.onSubmit}},[e._v("Submit")])])])},n=[],s=a(6198),r=(a(5666),a(1539),a(9669)),l=a.n(r),i={name:"Login",components:{},data:function(){return{user:null,alert:{message:""},login:{login:"",password:""},shake:!1,good:"",fake:{login:"sam",password:"admin"}}},created:function(){this.user=this.$store.state.u},computed:{isShake:function(){return console.log(this.shake),1==this.shake?"shake":"none"}},mounted:function(){localStorage.user_fname&&this.$router.push({name:"tables"}).catch((function(e){console.log(e)}))},methods:{onSubmit:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function a(){var o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("1020001008QA"!=t.login.login){a.next=4;break}"gli_2022_pass"==t.login.password&&(localStorage.setItem("token","token"),localStorage.setItem("user_fname","QA"),localStorage.setItem("user_lname","A"),localStorage.setItem("nik","1020001008QA"),o=new Date,o.setDate(o.getDate()+1),localStorage.setItem("date_end",o),t.$store.commit("setUser","QA GLI"),t.$router.push({name:"tables"}).catch((function(e){console.log(e)}))),a.next=10;break;case 4:return e.preventDefault(),t.shake=!1,n={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},s={username:t.login.login,password:t.login.password},a.next=10,l().post("http://10.4.1.135:5001/sso/login-v2",s,n).then((function(e){if(0!=e.data.data.length){var a=e.data.data[0].basic_role,o=function(e){return"PERSONALIZED_PUSHED_VOUCHER"===e.ma_id};if(a.some(o)){localStorage.setItem("token",e.data.data[0].token),localStorage.setItem("user_fname",e.data.data[0].mu_firstname),localStorage.setItem("user_lname",e.data.data[0].mu_lastname),localStorage.setItem("nik",e.data.data[0].mu_username);var n=new Date;n.setDate(n.getDate()+1),localStorage.setItem("date_end",n),t.$store.commit("setUser",e.data.data[0].mu_firstname),t.$router.push({name:"tables"}).catch((function(e){console.log(e)}))}else alert("User tidak memiliki akses aplikasi ini!")}else alert("Username/ Password incorrect !")})).catch((function(e){console.log("Login.vue (error) :: ",e),alert("Aplikasi error!")}));case 10:case"end":return a.stop()}}),a)})))()}}},c=i,u=a(1001),d=(0,u.Z)(c,o,n,!1,null,"20d4045f",null),m=d.exports}}]);
//# sourceMappingURL=49-legacy.31220f85.js.map