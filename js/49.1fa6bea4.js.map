{"version":3,"file":"js/49.1fa6bea4.js","mappings":"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","sources":["webpack://vuejs-personalized-push-voucher/./src/views/Login.vue?3ea4","webpack://vuejs-personalized-push-voucher/src/views/Login.vue","webpack://vuejs-personalized-push-voucher/./src/views/Login.vue?3c97","webpack://vuejs-personalized-push-voucher/./src/views/Login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('body',[_c('div',{staticClass:\"login-block pa-8\"},[_c('h1',{staticClass:\"mb-8\"},[_vm._v(\"Login\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.login),expression:\"login.login\"}],attrs:{\"type\":\"text\",\"placeholder\":\"NIK\",\"id\":\"username\"},domProps:{\"value\":(_vm.login.login)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"login\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.password),expression:\"login.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"id\":\"password\"},domProps:{\"value\":(_vm.login.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"password\", $event.target.value)}}}),_c('button',{staticClass:\"mt-4\",on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- <section id=\"login\" v-bind:class=\"isShake\">\r\n    <form>\r\n      <h2>Login</h2>\r\n      <div class=\"info\" v-bind:class=\"good\">\r\n        <p>{{ alert.message }}</p>\r\n        <p v-show=\"login.login && login.password\">\r\n          {{ login.login }} / {{ login.password }}\r\n        </p>\r\n      </div>\r\n      <input type=\"text\" v-model=\"login.login\" placeholder=\"Username\" />\r\n      <input type=\"password\" v-model=\"login.password\" placeholder=\"Password\" />\r\n      <button v-on:click=\"onSubmit\">Log in</button>\r\n    </form>\r\n  </section> -->\r\n  <body>\r\n    <div class=\"login-block pa-8\">\r\n      <h1 class=\"mb-8\">Login</h1>\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"login.login\"\r\n        placeholder=\"NIK\"\r\n        id=\"username\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        v-model=\"login.password\"\r\n        placeholder=\"Password\"\r\n        id=\"password\"\r\n      />\r\n      <button class=\"mt-4\" v-on:click=\"onSubmit\">Submit</button>\r\n    </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      user: null,\r\n      alert: {\r\n        message: \"\",\r\n      },\r\n      login: {\r\n        login: \"\",\r\n        password: \"\",\r\n      },\r\n      shake: false,\r\n      good: \"\",\r\n      fake: {\r\n        login: \"sam\",\r\n        password: \"admin\",\r\n      },\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.user = this.$store.state.u;\r\n  },\r\n\r\n  computed: {\r\n    isShake: function () {\r\n      console.log(this.shake);\r\n      if (this.shake == true) {\r\n        return \"shake\";\r\n      }\r\n      return \"none\";\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // console.log(\"name\", this.$route.name);\r\n    if (localStorage.user_fname) {\r\n      this.$router.push({ name: \"tables\" }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onSubmit(event) {\r\n      if (this.login.login == \"1020001008QA\") {\r\n        if (this.login.password == \"gli_2022_pass\") {\r\n          localStorage.setItem(\"token\", \"token\");\r\n          localStorage.setItem(\"user_fname\", \"QA\");\r\n          localStorage.setItem(\"user_lname\", \"A\");\r\n          localStorage.setItem(\"nik\", \"1020001008QA\");\r\n          var dateEnd = new Date();\r\n          dateEnd.setDate(dateEnd.getDate() + 1);\r\n          localStorage.setItem(\"date_end\", dateEnd);\r\n\r\n          this.$store.commit(\"setUser\", \"QA GLI\");\r\n          this.$router.push({ name: \"tables\" }).catch((error) => {\r\n            console.log(error);\r\n          });\r\n        }\r\n      } else {\r\n        event.preventDefault();\r\n        this.shake = false;\r\n\r\n        const headers = {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Access-Control-Allow-Credentials\": \"true\",\r\n          \"Access-Control-Allow-Methods\":\r\n            \"GET, PUT, POST, DELETE, OPTIONS, post, get\",\r\n          \"Access-Control-Allow-Headers\": \"Origin, Content-Type, X-Auth-Token\",\r\n          \"Content-Type\": \"application/json\",\r\n          \"Content-Length\": \"<calculated when request is sent>\",\r\n          Host: \"<calculated when request is sent>\",\r\n          Accept: \"*/*\",\r\n          \"Accept-Encoding\": \"gzip, deflate, br\",\r\n          Connection: \"keep-alive\",\r\n          app: \"sso\",\r\n        };\r\n\r\n        const body = {\r\n          username: this.login.login,\r\n          password: this.login.password,\r\n        };\r\n        // console.log(body);\r\n\r\n        await axios\r\n          .post(\"http://10.4.1.135:5001/sso/login-v2\", body, headers)\r\n          .then((response) => {\r\n            // console.log(response.data);\r\n\r\n            if (response.data.data.length != 0) {\r\n              let basic_role = response.data.data[0].basic_role;\r\n              const checkApplicationRole = (obj) =>\r\n                obj.ma_id === \"PERSONALIZED_PUSHED_VOUCHER\";\r\n\r\n              if (basic_role.some(checkApplicationRole)) {\r\n                localStorage.setItem(\"token\", response.data.data[0].token);\r\n                localStorage.setItem(\r\n                  \"user_fname\",\r\n                  response.data.data[0].mu_firstname\r\n                );\r\n                localStorage.setItem(\r\n                  \"user_lname\",\r\n                  response.data.data[0].mu_lastname\r\n                );\r\n                localStorage.setItem(\"nik\", response.data.data[0].mu_username);\r\n                var dateEnd = new Date();\r\n                dateEnd.setDate(dateEnd.getDate() + 1);\r\n                localStorage.setItem(\"date_end\", dateEnd);\r\n\r\n                this.$store.commit(\r\n                  \"setUser\",\r\n                  response.data.data[0].mu_firstname\r\n                );\r\n                this.$router.push({ name: \"tables\" }).catch((error) => {\r\n                  console.log(error);\r\n                });\r\n              } else {\r\n                alert(\"User tidak memiliki akses aplikasi ini!\");\r\n              }\r\n            } else {\r\n              alert(\"Username/ Password incorrect !\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Login.vue (error) :: \", error);\r\n            alert(\"Aplikasi error!\");\r\n          });\r\n\r\n        // if (\r\n        //   this.fake.login == this.login.login &&\r\n        //   this.fake.password == this.login.password\r\n        // ) {\r\n        //   this.alert.message = \"Login Sucess !\";\r\n        //   localStorage.setItem(\"user\", this.login.login);\r\n        //   this.$store.commit(\"setUser\", this.login.login);\r\n        //   this.$router.push({ name: \"tables\" });\r\n        // } else {\r\n        //   // this.alert.message = \"Username/ Password incorrect !\";\r\n        //   alert(\"Username/ Password incorrect !\");\r\n        // }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  background-color: #073e5d;\r\n  background-size: cover;\r\n  font-family: Montserrat;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.login-block {\r\n  width: 380px;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  border-top: 5px solid #f26d3b;\r\n  margin: 0 auto;\r\n  padding: auto;\r\n}\r\n\r\n.login-block h1 {\r\n  text-align: center;\r\n  color: #000;\r\n  font-size: 22px;\r\n  text-transform: uppercase;\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.login-block input {\r\n  width: 100%;\r\n  height: 42px;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n  font-family: Montserrat;\r\n  padding: 0 20px 0 50px;\r\n  outline: none;\r\n}\r\n\r\n.login-block input#username {\r\n  background: #fff url(\"http://i.imgur.com/u0XmBmv.png\") 20px top no-repeat;\r\n  background-size: 16px 80px;\r\n}\r\n\r\n.login-block input#username:focus {\r\n  background: #fff url(\"http://i.imgur.com/u0XmBmv.png\") 20px bottom no-repeat;\r\n  background-size: 16px 80px;\r\n}\r\n\r\n.login-block input#password {\r\n  background: #fff url(\"http://i.imgur.com/Qf83FTt.png\") 20px top no-repeat;\r\n  background-size: 16px 80px;\r\n}\r\n\r\n.login-block input#password:focus {\r\n  background: #fff url(\"http://i.imgur.com/Qf83FTt.png\") 20px bottom no-repeat;\r\n  background-size: 16px 80px;\r\n}\r\n\r\n.login-block input:active,\r\n.login-block input:focus {\r\n  border: 1px solid #f26d3b;\r\n}\r\n\r\n.login-block button {\r\n  width: 100%;\r\n  height: 40px;\r\n  background: #f26d3b;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  border: 1px solid #f26d3b;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  font-size: 14px;\r\n  font-family: Montserrat;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.login-block button:hover {\r\n  background: #f26d3b;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=20d4045f&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=20d4045f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20d4045f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","login","expression","attrs","domProps","on","$event","target","composing","$set","onSubmit","staticRenderFns","components","data","user","alert","message","password","shake","good","fake","created","computed","isShake","console","mounted","methods","localStorage","dateEnd","event","Host","Accept","Connection","app","username","body","headers","then","response","obj","catch","error","component"],"sourceRoot":""}